{"version":3,"sources":["poli.js","fotozoom.js","togglepanel.js","resepjson.js","informasi_obat.js","riwobs.js","uk.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/0EA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACttBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"allpoli.js","sourcesContent":["    var addSatu = false;\n    var id_formula_sirup_add = '';\n    var gen_presc_index = 0;\n    var gen_presc_json = '';\n    var total_afi_count = 0;\n    var temp_sop_terapi = [];\n    var length_sop_terapi = '';\n    var i_sop_terapi = 0;\n\n    $('#LinkButton2').on('click', function () {\n\t\tvalidasiKeterangan();\n\t});\n\n\t$('#myModal').on('show.bs.modal', function() {\n\t\t$('#generik_list_alergi').val('');\n\t\t$('#generik_list_alergi').selectpicker('refresh');\n\t\tgenerik_list_change();\n\t});\n    \n     if($('#terapi').val() == '' || $('#terapi').val() == '[]'){\n            var data = [];\n        } else {\n            var data = JSON.parse($('#terapi').val());\n            viewResep(resepJson($('#terapi').val())[1]);\n        }\n     if($('#tindakan').val() == '' || $('#tindakan').val() == '[]'){\n\n            var dataTindakan = [];\n        } else {\n            var dataTindakan = JSON.parse($('#tindakan').val());\n            viewTindakan(dataTindakan);\n        }\n\n\t$('#dummy_submit_perujuk_baru').click(function(){\n\t\t\tvar nama_perujuk = $('#nama_perujuk').val();\n\t\t\tvar alamat_perujuk = $('#alamat_perujuk').val();\n\t\t\tvar no_telp_perujuk = $('#no_telp_perujuk').val();\n\n\t\t\tif (\n\t\t\t\t\tnama_perujuk == '' ||\n\t\t\t\t\talamat_perujuk == '' ||\n\t\t\t\t\tno_telp_perujuk == ''\n\t\t\t) {\n\t\t\t\tif (nama_perujuk == '') {\n\t\t\t\t\tvalidasi('#nama_perujuk', 'harus diisi!!')\n\t\t\t\t}\n\t\t\t\tif (alamat_perujuk == '') {\n\t\t\t\t\tvalidasi('#alamat_perujuk', 'harus diisi!!')\n\t\t\t\t}\n\t\t\t\tif (no_telp_perujuk == '') {\n\t\t\t\t\tvalidasi('#no_telp_perujuk', 'harus diisi!!')\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('#submit_perujuk_baru').click();\n\t\t\t}\n\t});\n\t$('#submit_perujuk_baru').click(function(){\n\t\t\tvar nama_perujuk = $('#nama_perujuk').val();\n\t\t\tvar alamat_perujuk = $('#alamat_perujuk').val();\n\t\t\tvar no_telp_perujuk = $('#no_telp_perujuk').val();\n\t\t$.post( base + '/perujuks/ajax/create',\n\t\t\t\t{\n\t\t\t\t\t 'nama' : nama_perujuk,\n\t\t\t\t\t 'alamat' : alamat_perujuk,\n\t\t\t\t\t 'no_telp' : no_telp_perujuk\n\t\t\t\t},\n\t\t\tfunction (data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.result == '1') {\n\t\t\t\t\t$('#perujuk_id').html(data.options).val(data.value).selectpicker('refresh');\n\t\t\t\t\talert('perujuk baru bernama ' + nama_perujuk + ' telah berhasil ditambahkan');\n\t\t\t\t\t$('#modal_buat_perujuk_baru').modal('hide');\n\t\t\t\t} else {\n\t\t\t\t\talert('maaf !! perujuk telah gagal ditambahkan');\n\t\t\t\t\t$('#modal_buat_perujuk_baru').modal('hide');\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t});\n\n   jQuery(document).ready(function($) {\n\t   refresh();\n\n\t\tvar notif = $('#notified').val();\n\t   if ( notif == '0' && $('#asuransi_id').val() == '32') {\n\t   \talert('Harap baca dengan Jelas aturan mengenai asuransi ini, ada satu / beberapa hal yang sudah ditambahkan. Terima kasih');\n\t   }\n\n\t   $('#modal_buat_perujuk_baru').on('shown.bs.modal', function(){\n\t\t\t $('#nama_perujuk').focus();   \n\t   });\n\t   $('#modal_buat_perujuk_baru').on('hidden.bs.modal', function(){\n\t\t   $('#perujuk_id').closest('div').find('.btn-white').focus();   \n\t   });\n       bahanHabisPakai();\n       if ( $('#resepluar').val() != '' ) {\n          $('#panel-resepluar').show(); \n       }\n        $('#cekFoto').modal({backdrop: 'static', keyboard: false});\n\n        uk_exec('uk', 'hpht');\n        if ($('#kesimpulan').val() == '') {\n            hasil();\n        }\n        riwObsG();\n        $('.hasil').on('keyup change', function(e) {\n            hasil();\n        });\n\n        $('#G').keyup(function(e) {\n           riwObsG();\n        });\n\n        view();\n        uk('umur_kehamilan', 'HPHT');\n        uk('uk', 'hpht');\n\n        $('#tab-status').on('shown.bs.tab', function (e) {\n            $('#anamnesa').focus();\n        });\n\n        $('#usg_presentasi').blur(function(e) {\n            if ($(this).val().indexOf('kepala') > -1) {\n                $('.presentasi').val('2');\n            } else if($(this).val().indexOf('lintang') > -1){\n                $('.presentasi').val('3');\n            } else if($(this).val().indexOf('bokong') > -1){\n                $('.presentasi').val('4');\n            }\n        });\n\n        $('#usg_djj').blur(function(e) {\n            $('#djj').val($(this).val())\n        });\n\n        $('#tab-usg').on('shown.bs.tab', function (e) {\n            $('#usg_presentasi').focus();\n        });\n\n\n        $('#tab-resep').on('shown.bs.tab', function (e) {\n            namaObatFocus();\n            var anamnesa = $('#anamnesa').val();\n            var pf = $('#pemeriksaan_fisik').val();\n\n            if (anamnesa != '' || pf != '' ) {\n                var temp = '<div class=\"alert alert-warning\">';\n                temp += anamnesa + ' | ' + pf;\n                temp += '</div>'\n            }\n            $('#resume').html(temp);\n        });\n\n        $('#keterangan_diagnosa').keydown(function(e) {\n            var key = e.keyCode || e.which;\n\n            if (key == 9) {\n                $('#tab-resep').tab('show');\n\t\t\t\treturn false;\n            }\n        });\n\n        $('#modalTindakan').on('shown.bs.modal', function () {\n           $('#selectTindakan').closest('td').find('.btn-white').focus();\n        });\n\n        $('#btn_auto').click(function(e) {\n            if ($('#bb_input').val() == '') {\n                var bb_input = '55';\n            } else {\n                var bb_input = $('#bb_input').val();\n            }\n            $('#bb_aktif').val(bb_input);\n\n            var bb = $('#bb_aktif').val();\n            $('#berat_badan').val(bb);\n\n\n            $.get(base + '/DdlMerek/alloption2', {'bb': bb}, function(data) {\n                data = $.parseJSON(data);\n                var berat_badan = data.berat_badan;\n                data = data.temp;\n                data = JSON.stringify(data);\n                customOption2a(data, berat_badan);\n            });\n        });\n\n        $('#btn_auto_off').click(function(e) {\n            optionSemua(getIdMerek());\n        });\n\n        $('#inputSigna').keyup(function(e) {\n            var key = e.keyCode || e.which;\n            if(key != 13 || key != 38 || key != 40 || key != 9){\n                $.post(base + \"/poli/ajax/selectsigna\", {'signa' : $(this).val(), '_token' : $('#token').val()}, function(data) {\n                    data = JSON.parse(data);\n                    var temp = '';\n                    for (var i = data.length - 1; i >= 0; i--) {\n                        temp += '<tr>';\n                        temp += '<td>' + data[i].id + '</td>';\n                        temp += '<td>' + data[i].signa + '</td>';\n                        temp += '<td><button type=\"button\" class=\"btn btn-success btn-xs\" value=\"' + data[i].id + '\" onclick=\"pilihSigna(this)\">pilih</button></td>';\n                        temp += '</tr>';\n                    }\n                    if(data.length == 0){\n                        temp = '<tr><td colspan=\"3\" class=\"text-center\">Data tidak ditemukan</td></tr>'\n                    }\n                    $('#tblSigna tbody').html(temp);\n                });\n            }\n        });\n        $('#inputAturanMinum').keyup(function(e) {\n            var key = e.keyCode || e.which;\n            if(key != 13 || key != 38 || key != 40 || key != 9){\n                $.post(base + \"/poli/ajax/selectatur\", {'aturan' : $(this).val()}, function(data) {\n                    data = JSON.parse(data);\n                    var temp = '';\n                    for (var i = data.length - 1; i >= 0; i--) {\n                        temp += '<tr>';\n                        temp += '<td>' + data[i].id + '</td>';\n                        temp += '<td>' + data[i].aturan_minum + '</td>';\n                        temp += '<td><button type=\"button\" class=\"btn btn-success  btn-xs\" value=\"' + data[i].id + '\" onclick=\"pilihAturanMinum(this)\">pilih</button></td>';\n                        temp += '</tr>';\n                    }\n\n                    if(data.length == 0){\n                        temp = '<tr><td colspan=\"3\" class=\"text-center\">Data tidak ditemukan</td></tr>'\n                    }\n                    $('#tblAturanMinum tbody').html(temp);\n                });\n            }\n        });\n        // untuk mencari ICD 10 diagnosa\n        $('.search').keyup(function(e) {\n            var key = e.keyCode || e.which;\n            if(key != 38 && key != 40 && key != 13){\n                table_ICD();\n            }\n        });\n        //keypress pencarian modal diagnosa pertama\n        $('.search').on('keypress', function (e) {\n            var rowI = $('table#GridView4 tbody tr').filter(function () {\n                var match = 'rgb(51, 122, 183)';\n                return ($(this).css('background-color') == match);\n            }).index();\n            var key = e.keyCode || e.which;\n            if (key == 13 && rowI != -1) {\n               confirmICD();\n            } else if (key == 40 && rowI == -1) {\n    \n                $('table#GridView4 tbody tr:first-child').toggleClass('rowHighlight');\n            } else if (key == 40 && rowI != -1 && rowI != 9) {\n                var rowI = $('table#GridView4 tbody tr').filter(function () {\n                    var match = 'rgb(51, 122, 183)';\n                    return ($(this).css('background-color') == match);\n                }).index();\n                var rowBefore = parseInt(rowI) + 1;\n                var rowAfter = parseInt(rowI) + 2;\n\n                $('table#GridView4 tbody tr:nth-child(' + rowBefore + ')').toggleClass('rowHighlight');\n                $('table#GridView4 tbody tr:nth-child(' + rowAfter + ')').toggleClass('rowHighlight');\n            } else if (key == 38 && rowI != -1 && rowI != 0) {\n                var rowI = $('table#GridView4 tbody tr').filter(function () {\n                    var match = 'rgb(51, 122, 183)';\n                    return ($(this).css('background-color') == match);\n                }).index();\n                var rowBefore = parseInt(rowI) + 1;\n                var rowAfter = rowI;\n                $('table#GridView4 tbody tr:nth-child(' + rowBefore + ')').toggleClass('rowHighlight');\n                $('table#GridView4 tbody tr:nth-child(' + rowAfter + ')').toggleClass('rowHighlight');\n            }\n        });\n        //keypress pencarian modal diagnosa kedua untuk mencari / menginput Diagnosa baru\n        $('#tambahDiagnosa').on('keypress', function (e) {\n            var rowI = $('table#GridView2 tbody tr').filter(function () {\n                var match = 'rgb(51, 122, 183)';\n                return ($(this).css('background-color') == match);\n            }).index();\n\n            var $ini = $(this);\n            var last = parseInt($('table#GridView2 tbody tr:last').index());\n\n            var key = e.keyCode || e.which;\n\n            if (key == 13 && rowI == -1 && $ini.val() != '') {\n                insertDiagnosa();\n            } else if(key == 13 && rowI == -1 && $ini.val() == ''){\n\n                alert(\"Untuk masukkan diagnosa input harus diisi\");\n                $ini.focus();\n                return false;\n\n            } else if (key == 13 && rowI != -1) {\n\n                confirmDiagnosa();\n\n            } else if (key == 40 && rowI == -1) {\n                $('table#GridView2 tbody tr:first-child').toggleClass('rowHighlight');\n                $('#tambahDiagnosa').val('');\n            } else if (key == 40 && rowI != last) {\n\n                var rowBefore = parseInt(rowI) + 1;\n                var rowAfter = parseInt(rowI) + 2;\n\n                $('table#GridView2 tbody tr:nth-child(' + rowBefore + ')').toggleClass('rowHighlight');\n                $('table#GridView2 tbody tr:nth-child(' + rowAfter + ')').toggleClass('rowHighlight');\n                $('#tambahDiagnosa').val('');\n\n            } else if (key == 40 && rowI == last) {\n\n                return false;\n\n            } else if (key == 38 && rowI != -1 && rowI != 0) {\n                var rowI = $('table#GridView2 tbody tr').filter(function () {\n                    var match = 'rgb(51, 122, 183)';\n                    return ($(this).css('background-color') == match);\n                }).index();\n\n                var rowBefore = parseInt(rowI) + 1;\n                var rowAfter = rowI;\n\n                $('table#GridView2 tbody tr:nth-child(' + rowBefore + ')').toggleClass('rowHighlight');\n                $('table#GridView2 tbody tr:nth-child(' + rowAfter + ')').toggleClass('rowHighlight');\n                $('#tambahDiagnosa').val('');\n\n            } else if (key == 38 && rowI == 0) {\n                return false;\n\n            } else {\n                var rowI = $('table#GridView2 tbody tr').filter(function () {\n                    var match = 'rgb(51, 122, 183)';\n                    return ($(this).css('background-color') == match);\n                }).index();\n\n                var rowHighlight = parseInt(rowI) + 1;\n                $('table#GridView2 tbody tr:nth-child(' + rowHighlight + ')').toggleClass('rowHighlight');\n            }\n        });\n       // Validasi jika anamnesa dan diagnosa belum diisi, maka gagal menginput\n\n    //ketika exampleModal ditutup mereset example Modal = memilih ICD\n    $('#exampleModal').on('hidden.bs.modal', function () {\n        $('#byICD').val('');\n        $('#byDiagnosa').val('').focus();\n        table_ICD();\n    });\n    //ketika di klik, maka tabel di exampleModal = pencarian ICD akan menyala (highlight)\n    $(document).on('click', 'table#GridView4 tbody tr', function(e) {\n        $('.rowHighlight').toggleClass('rowHighlight');\n        $(this).toggleClass('rowHighlight');\n        $('#byDiagnosa').focus();\n    });\n    //ketika di klik, maka tabel di pencarian diagnosa akan menyala (highlight)\n    $(document).on('click', 'table#GridView2 tbody tr', function(e) {\n        $('.rowHighlight').toggleClass('rowHighlight');\n        $(this).toggleClass('rowHighlight');\n        $('#tambahDiagnosa').focus();\n    });\n\n    //ketika di klik untuk konfirmasi memilih ICD, maka ICD telah dipilih, tapi kalau belum dipilih, munculkan alert\n    $(document).on('click', '#confirmICD', function(e) {\n        var rowI = $('table#GridView4 tbody tr').filter(function () {\n            var match = 'rgb(51, 122, 183)';\n            return ($(this).css('background-color') == match);\n        }).index();\n        if(rowI != -1){\n            confirmICD();\n        } else {\n            alert('pilih dulu ICD nya');\n        }\n    });\n    \n    //ketika memunculkan modal diagnosa yang kedua, kosongkan dulu isinya\n    $('#exampleModal1').on('show.bs.modal', function () {\n        $('input#tambahDiagnosa').val('').keyup().focus();\n    });\n\n    $('#inputTindakanSubmit').keypress(function(e) {\n        var key = e.keyCode || e.which;\n        if( key == 9 ){\n             $('#inputTindakanSubmit').click();\n             return false;\n        }\n    });\n    // valueTextArea();\n    $('#modalTindakan').on('hidden.bs.modal', function () {\n        bahanHabisPakai();\n    });\n\n       $('#modalSigna').on('hidden.bs.modal', function (e) {\n            $('#ddlsigna').closest('div').find('.btn-white').focus();\n        });\n\n        $('#modalAturanMinum').on('hidden.bs.modal', function (e) {\n            $('#ddlAturanMinum').closest('div').find('.btn-white').focus();\n        });\n\n\n       //perintah untuk memberikan perintah klik bila tombol Tab ditekan dan focus ada di tombol\n  $('a#inputResep').keydown(function(e) {\n\t\tvar $ini = $(this);\n\t\tvar key = e.keyCode || e.which;\n\n\t\tif( key == 9 || key == 13 ){\n\t\t\tinsertTerapi();\n\t\t\treturn false;\n\t\t}\n  });\n\n  // $('a#inputResep').focus(function() {\n\t  // alert('ngehe');\n  // });\n\n      //perintah yang diberikan bila Select tipe resep diganti opsi nya\n  $('#tipeResep').change(function() {\n        var tipe = $(this).val();\n        var id = getIdMerek();\n    \n\n        // bila dirubah ke tipe 1 adalah puyer\n        if(tipe == \"1\") {\n            //hilangkan signa dan aturan minum obat, isian jumlah tetap dipertahankan\n            //signa -1 adalah puyer\n            hideTipeResepPuyer(id);\n\n        // bila dirubah ke tipe 2 adalah add sirup\n        } else if (tipe == \"2\"){\n            hideTipeResepSirup(id);\n        // bila dirubah ke tipe 0 adalah standar resep dewasa\n        } else if (tipe == \"0\") {\n            // direset pilihan signa, aturanminum, dan jummlah\n            $('#ddlsigna').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#ddlAturanMinum').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#txtjumlah').val('').selectpicker('refresh').fadeIn(500);\n            //jika tipe standar, maka pilihan nama obat dikembalikan lagi, semua resep tersedia\n            optionSemua(id);\n        }\n  });\n    //perintah yang diberikan jika pilihan obat berubah\n     $('#ddlNamaObat').change(function() {\n        if ($(this).val != '') {\n            var isi = true;\n        } else {\n            var isi = false;\n        }\n\n\t\tvar pasien_id = $('#pasien_id').val();\n\t\t $.get(base + '/poli/ajax/alergi/prevent',\n\t\t\t {\n\t\t\t\t 'merek_id':  $(this).val() ,\n\t\t\t\t 'pasien_id': pasien_id\n\t\t\t },\n\t\t \tfunction (data, textStatus, jqXHR) {\n\t\t\t\tif( $.trim(data) > 0 ){\n\t\t\t\t\talert('obat tidak bisa dipilih karena komposisi dari obat tersebut membuat pasien alergi');\n\t\t\t\t\t$('#ddlNamaObat').val('').selectpicker('refresh');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t});\n\t\t //\n        //i adalah ID_MEREK yang terpilih dari pilihan obat\n        var dataObat = JSON.parse($(this).val());\n        var i        = dataObat.merek_id;\n\n        var sediaan      = getSediaan();\n        var merek        = getMerek();\n        var formula_id   = getIdFormula();;\n        var tidakDipuyer = getTidakDipuyer();\n        var tipeResep    = $('#tipeResep').val();\n\n        if (sediaan == 'syrup' && tipeResep == 2 ) {\n            alert('obat ' + merek + ', tidak boleh dicampur dengan obat lain karena bukan dry syrup seperti \\nAmoxilin Syr \\nThiamphenicol syr \\n Cefadroksil syr \\n atau cefixim syr \\nYang bisa dicampur dengan obat lain');\n            $('#ddlNamaObat').val('').selectpicker('refresh');\n            namaObatFocus();\n            return false;   \n        }\n\n        if (tidakDipuyer == '1' && (tipeResep == 1 || tipeResep == 2) ) {\n            alert('obat ' + merek + ', tidak boleh dipuyer ataupun dicampur ke dalam sirup');\n            $('#ddlNamaObat').val('').selectpicker('refresh');\n            namaObatFocus();\n            return false;   \n        }\n\n        // tipe resep 1 = puyer, ID_MEREK -1 DAN -3 ADALAH kertas puyer biasa dan sablon\n        if($('#tipeResep').val() == \"1\" && (i == \"-1\" || i == \"-3\")) {\n            //jika kertas puyer (-3/-1) terpilih pada tipe resep puyer (1), maka, \n            //tampilkan kembali semua item\n            //dan tipe resep dikembalikan lagi menjadi tipe resep standar (0)\n            $('#ddlsigna').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#ddlAturanMinum').val('1').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#tipeResep').val('0').selectpicker('refresh');\n            //kembalikan lagi opsi pilihan obat sehingga semua obat bisa diakses\n            optionSemua(i);\n            // jika item selesaikan puyer ada dalam html. maka kembalikan semua ke standar\n            if($('#selesaikanPuyer').html()){\n                selesaiPuyer($('#selesaikanPuyer'));\n            }\n        } else if($('#tipeResep').val() == \"2\" && i == \"-2\") {\n            $('#txtjumlah').val('1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            $('#ddlsigna').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#ddlAturanMinum').val('1').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#tipeResep').val('0').selectpicker('refresh');\n            optionSemua(i);\n            if($('#selesaikanAdd').html()){\n                selesaiAdd($('#selesaikanAdd'));\n            }\n        }\n        //Kode untuk Automator\n        var aturan_minum_id = getAturanMinumId();\n        console.log(aturan_minum_id);\n        $('#ddlAturanMinum').val(aturan_minum_id).selectpicker('refresh');\n\n\n        if ($('#bb_aktif').val() != '' && $('#ddlNamaObat').val() != '') {\n\n            var dose = $('#ddlNamaObat option:selected').attr('data-dose');\n            dose = $.parseJSON(dose);\n            var signa_id = dose.signa_id;\n            var jumlah = dose.jumlah;\n\n            $('#txtjumlah').val(jumlah);\n            $('#ddlsigna').val(signa_id).selectpicker('refresh');\n        }\n        // Munculkan peringatan obat\n        if($(this).val() != ''){\n\n            var peringatan = $('#ddlNamaObat option:selected').attr('data-peringatan');\n            var ingat = '';\n\n            if (peringatan != 'null') {\n\n                ingat = peringatan;\n\n                var merek = $('#ddlNamaObat option:selected').text();\n\n                var pesan = '<div class=\"panel panel-danger\" id=\"isi_pesan\"><div class=\"panel-heading\"><h1 class=\"panel-title\">' + merek + '</h1></div><div class=\"panel-body\">' + ingat + '</div></div>';\n\n                $('#peringatan').html(pesan);\n\n                $('#isi_pesan').hide().slideDown(500);\n\n            } else {\n\n                $('#isi_pesan').slideUp(500, function(){\n                    $(this).remove();\n                });\n            }\n\n        }\n        //Munculkan peringatan kalau obat tidak ditanggung BPJS\n        if ($('#asuransi_id').val() == '32') {\n            if($(this).val() != ''){//jika pilihan nama obat tidak kosong\n                var rak_id = getIdRak();\n                var tipe_resep = $('#tipeResep').val(); \n                var merek      = $('#ddlNamaObat option:selected').text();\n                var fornas     = $('#ddlNamaObat option:selected').attr('data-fornas');\n\n                if (rak_id == 'D7' && tipe_resep == '1')  {\n                } else {\n                    if (fornas == '0') {\n                        $('#isi_pesan_fornas').remove();\n                        var text = '<div class=\"alert alert-danger\" id=\"isi_pesan_fornas\">' + merek + ' <strong>tidak ditanggung BPJS</strong></div>';\n                        $('#peringatan').prepend(text);\n                        $('#isi_pesan_fornas').hide().fadeIn(500);\n                    } else {\n                        $('#isi_pesan_fornas').fadeOut(500, function() {\n                            $(this).remove();\n                        });\n                    }\n                }\n            }\n        }\n\n        $.post(base +'/poli/ajax/ibusafe', {'merek_id': $(this).val(), 'umur' : $('#umur').html(), '_token' : $('#token').val()}, function(data) {\n            /*optional stuff to do after success */\n            data = $.trim(data);\n            if (data == '1') {\n                alert('Ibuprofen syrup / tablet tidak boleh digunakan untuk anak dibawah umur 1 tahun, gunakan ibuprofen suppositoria dalam kondisi darurat!! Optimalkan pemberian paracetamol 15 mg/kgbb tiap 4 jam, disertai dengan ibuprofen supp bila kepepet !!');\n                $('#ddlNamaObat').val('').selectpicker('refresh');\n            }\n        });\n\n        if ($('#hamil').val() == '1') {\n            $.post( base + '/poli/ajax/pregsafe', {'merek_id': $(this).val()}, function(data) {\n                data = $.trim(data);\n                if (data != '') {\n                    data = $.parseJSON(data);\n                    var temp = '<h4 class=\"text-center\">Peringatan keamanan</h4>';\n                    temp += '<h4 class=\"text-center\">dalam kehamilan</h4>';\n                    temp += '<table class=\"table table-condensed table-bordered font-kecil\">';\n                    temp += '<thead><tr><th class=\"bg-red\">Generik</th><th class=\"bg-red\">Safety Index</th></tr></thead>';\n                    temp += '<tbody>'\n                    for (var i = 0; i < data.length; i++) {\n                        temp += '<tr>';\n                        temp += '<td>' + data[i].generik + ' ' + data[i].bobot + '</td>';\n                        temp += '<td>' + data[i].pregnancy_safety_index + '</td>';\n                        temp += '</tr>';\n                    }\n                    temp += '</tbody></table>';\n\n                    $('#legendpop').attr({\n                        'title'  : $('#ddlNamaObat option:selected').text(),\n                        'data-original-title'  : $('#ddlNamaObat option:selected').text(),\n                        'data-content': temp\n                    }); \n\n                    $('#legendpop').popover('show');\n                } else {\n                    $('#legendpop').popover('hide');\n                }\n            });\n        } else if ($(this).val() == '150805003'){\n            $('#legendpop').attr({\n\n                'title'  : 'Decafil tabet 150 mg',\n                'data-original-title'  : 'Decafil tabet 150 mg',\n                'data-content': 'Jika pasien sudah biasa/sering sesak nafas, decafil diberikan 20 tablet agar pasien tidak perlu bolak-balik ke klinik, termasuk dan terutama pasien BPJS'\n            }); \n            $('#legendpop').popover('show');\n        } else if (formula_id == '150802046' && $('#asuransi_id').val()  == '32' ) {\n            $('#legendpop').attr({\n\n                'title'  : 'Levofloxacine tabet 500 mg',\n                'data-original-title'  : 'Levofloxacine tabet 500 mg',\n                'data-content': 'Pada pasien BPJS dengan Typhoid fever, obat ini diberikan selama 6 hari, obat simtomatik lain diberikan selama 3 hari, diharapkan pasien tidak kontrol kalau keadaan membaik dan tinggal habiskan antibiotiknya saja'\n            }); \n            $('#legendpop').popover('show');\n\n        } else {\n            $('#legendpop').popover('hide');\n        }\n\n      });\n\n    $('[data-toggle=\"popover\"]').popover()\n    \n\n    sesuaikanResep();\n\n    $('#pemeriksaan_penunjang').keypress(function(e) {\n        var key = e.keyCode || e.which;\n        if ( key != 9 ){\n            $('#modalTindakan').modal('show');\n            $(this).blur();\n            return false;\n        }\n    });\n     setTimeout(function(){ \n       $('#anamnesa').focus();\n     }, 500);\n\n     $('.afi_count').keyup(function(e) {\n        afiCount();\n     });\n\n\n\n\n}); //end document.ready\n\nfunction afiCount(){\n     $('.afi_count').each(function(index, el) {\n        var count = $(this).val();\n        console.log('count before = ' + count)\n        count = count.replace(\",\", \".\"); // sudah bisa mereplace karakter ','\n        count = count.replace(' ', ''); // sudah bisa mereplace karakter spasi (' ')\n        if (count == '') {\n            count = 0;\n        }\n        total_afi_count += parseFloat(count);\n     });\n\n     $('#total_afi').val(total_afi_count + ' cm');\n     hasil();\n     total_afi_count = 0;\n}\n\nfunction getDiagnosaByICD(ICD){\n     $.ajax({\n            url: base + \"/poli/ajax/diag\", \n            type: 'GET',\n            data: {icd10 : ICD  } \n        })\n        .done(function(messages) {\n            messages = JSON.parse(messages);\n            var temp = \"\";\n\n            for (var i = 0; i < messages.length; i++) {\n                temp += '<tr class=\"anchor2\">';\n                temp += '<td>' + messages[i].id + '</td>';\n                temp += '<td>' + messages[i].diagnosa + '</td>';\n                temp += '</tr>';\n            }\n\n            $('#ajax4').html(temp);\n            $('#tambahDiagnosa').val('').focus();\n        })\n        .fail(function() {\n            alert(\"Error!\");\n        });\n}\n\nfunction insertDiagnosa(){\n    var ICD = $('#lblICD').html();\n    var diagnosaUmum = $('#tambahDiagnosa').val();\n     $.ajax({\n            url: base + \"/poli/ajax/indiag\",\n            type: 'POST',\n            data: {icd10 : ICD, diagnosa : diagnosaUmum, _token : $('#token').val()}\n        })\n        .done(function(result) {\n            result = $.trim(result);\n            if(result == '0'){\n                alert(diagnosaUmum + ' GAGAL diinput');\n\n            } else if(result == '01'){\n\n                validasi('#tambahDiagnosa', 'Sudah ada!!');\n                \n            } else {\n\n                result = JSON.parse(result);\n                alert(diagnosaUmum + ' berhasil diinput');\n                getDiagnosaByICD(ICD);\n                var opt = '<option value=\"' + result.id +'\">' + result.diagnosa + ' - ' + result.diagnosaICD + '</option>';\n                $('#ddlDiagnosa').append(opt).selectpicker('refresh');\n\n            }\n        })\n        .fail(function() {\n            alert(\"Error!\");\n        });\n}\n\nfunction confirmICD(){\n    var ICD = $('table#GridView4 tbody tr').filter(function () {\n        var match = 'rgb(51, 122, 183)';\n        return ($(this).css('background-color') == match);\n    }).find('td:first-child').html();\n    var Diag = $('table#GridView4 tbody tr').filter(function () {\n        var match = 'rgb(51, 122, 183)';\n        return ($(this).css('background-color') == match);\n    }).find('td:nth-child(2)').html();\n    $('#lblICD').html(ICD);\n    $('#lblDiagnosaICD').html(Diag);\n    getDiagnosaByICD(ICD);\n    $('#showModal2').click();\n    $('#hideModal1').click();\n}\n\nfunction confirmDiagnosa(){\n    var idDiagnosa = $('table#GridView2 tbody tr').filter(function () {\n        var match = 'rgb(51, 122, 183)';\n        return ($(this).css('background-color') == match);\n    }).find('td:first-child').html();\n    $('#ddlDiagnosa')\n        .val(idDiagnosa)\n        .selectpicker('refresh');\n    $('#diagnosa').val(idDiagnosa);\n    $('#hideModal2').click();\n    $('#keterangan_diagnosa').focus();\n}\n\nfunction table_ICD(){\n    $.post(base + '/poli/ajax/pilih', {'byICD': $('#byICD').val(), 'byDiagnosa' : $('#byDiagnosa').val(), '_token' : $('#token').val()}, function(data) {\n\n        var temp = '';\n        for (var i = 0; i < data.length; i++) {\n            temp += '<tr class=\"anchor2\">';\n            temp += '<td>' + data[i].id + '</td>';\n            temp += '<td>' + data[i].diagnosaICD + '</td>';\n            temp += '</tr>';\n        };\n        $('#temp').html(temp);\n    });\n}\n\n//----------------------================================================================\n//----------------------================================================================\n//----------------------================================================================\n//----------------------================================================================\n//----------------------================================================================\n//----------------------================================================================\n\n function insertTerapi(){\n\n    var MER = $('#ddlNamaObat option:selected').text();\n    var juml = $('#txtjumlah').val();\n    var ID_SIG = $('#ddlsigna').val();\n    var ID_ATU = $('#ddlAturanMinum').val();\n    var pattern = /syrup/;\n    var sirup = pattern.test(MER);\n    var attr = $('#ddlNamaObat').attr('disabled');\n\n\n    if (typeof attr !== typeof undefined && attr !== false) {\n        $('#ddlNamaObat').removeAttr('disabled').selectpicker('refresh');\n    }\n\n    var attr = $('#tipeResep').attr('disabled');\n\n    if (typeof attr !== typeof undefined && attr !== false) {\n        $('#tipeResep').removeAttr('disabled').selectpicker('refresh');\n    }\n\n    if($('#ddlNamaObat').val() == '' || juml == '' || ID_SIG == '' || ID_ATU == ''){\n\n        if($('#ddlNamaObat').val() == ''){\n            validasi('#ddlNamaObat', 'Harus Diisi!');\n        };\n        if($('#txtjumlah').val() == ''){\n            validasi('#txtjumlah', 'Harus Diisi!');\n        };\n        if($('#ddlsigna').val() == ''){\n            validasi2('#ddlsigna', 'Harus Diisi!');\n        };\n        if($('#ddlAturanMinum').val() == ''){\n            validasi2('#ddlAturanMinum', 'Harus Diisi!');\n        };\n\n    } else if(sirup && juml > 1) {\n\n        var r = confirm('Anda akan menginput SIRUP DALAM JUMLAH BANYAK, hal ini tidak lazim dan bisa merupakan suatu kesalahan. Lanjutkan?');\n        if(r){\n            insert();\n        }\n\n    } else if(juml > 20) {\n\n        var r = confirm('Jumlah nya bisa jadi terlalu banyak. Lanjutkan?');\n        if(r){\n            insert();\n        }\n\n    } else {\n\n        var ID_FOR = getIdFormula();\n        var Merek = '';\n\n        var sama = false;\n        if(data.length > 0){\n            for (var i = 0; i < data.length; i++) {\n                if(data[i].formula_id == ID_FOR){\n                    sama = true;\n                    Merek = data[i].merek;\n                    break;\n                }\n            }\n        }\n        if(!sama){\n            insert();\n        } else {\n\n            var r = confirm('Formula yang sama sudah dimasukkan dengan Nama = ' + Merek + ', Lanjutkan?');\n            if (r){\n                insert();\n            }\n        }\n    }\n    // bagian ini khusus dilakukan jika tipe_asuransi == 4 / flat\n    // \n\n\n}\n\n\n    function formSigna(){\n        $.ajax({\n            url: 'ajaxSigna.php',\n            type: 'POST',\n            data: {_token : $('#token').val()},\n        })\n        .done(function(result) {\n            result = $.trim(result);\n            $('#ajax6').html(result);\n        })\n        .fail(function() {\n            console.log(\"error\");\n        })\n        .complete(function(){\n           $('#GridView4').dataTable({\n              responsive: true,\n            });\n            $('#inputSigna').val('');\n            $('#modalSigna input.input-sm').keypress(function(e) {\n               var key = e.keyCode || e.which;\n               if ( key == 13 ) {\n                    insertSigna();\n                    console.log('enter');\n               }\n           });\n        });\n        return false;\n    }\n\n    //ajax5\n    $('#inputAturanMinum').focus();\n\n    var ID_SIGNA_BARU = \"\";\n    function insertSigna(){\n        var signa = $('#inputSigna').val();\n        if(signa != ''){\n            $.ajax({\n                url: base + \"/poli/ajax/insigna\",\n                type: 'POST',\n                data: {signa : signa, _token:$('#token').val()},\n            })\n            .done(function(result) {\n\n                result = JSON.parse(result);\n\n                if(result.warning != ''){\n                    validasi('#inputSigna', result.warning);\n                }else{\n                    var opt = '<option value=\"' + result.id + '\">' + signa + '</option>';\n                    var MyArray = result.temp;\n                    $('#ddlsigna').append(opt).val(MyArray.id).selectpicker('refresh');\n                    var temp = '';\n                    temp += '<tr>';\n                    temp += '<td>' + MyArray.id + '</td>';\n                    temp += '<td>' + MyArray.signa + '</td>';\n                    temp += '<td><button class=\"btn btn-success btn-xs\" value=\"' + MyArray.id + '\" onclick=\"pilihSigna(this)\">Pilih</button></td>';\n                    temp += '</tr>';\n                    $('#tblSigna tbody').html(temp).hide().fadeIn(300, function() {\n                        $('#modalSigna').modal('hide');\n                    });;\n                }\n            })\n            .fail(function() {\n                console.log(\"error\");\n            });\n            return false;\n        } else {\n            validasi('#inputSigna', 'Input Tidak Boleh Kosong');\n            $('#inputSigna').focus();\n        }\n    }\n\n    //ajax5\n    var ID_ATURAN_MINUM_BARU = \"\";\n    function insertAturanMinum(){\n        var aturan = $('#inputAturanMinum').val();\n        if(aturan != ''){\n\n            $.ajax({\n                url: base + '/poli/ajax/inatur',\n                type: 'POST',\n                data: {'aturan' : $('#inputAturanMinum').val(), '_token' : $('#token').val()},\n            })\n            .done(function(result) {\n            \n                result = JSON.parse(result);\n\n                if(result.warning != ''){\n                    validasi('#inputAturanMinum', result.warning);\n                }else{\n                    var opt = '<option value=\"' + result.id + '\">' + aturan + '</option>';\n                    var MyArray = result.temp;\n                    $('#ddlAturanMinum').append(opt).val(MyArray.id).selectpicker('refresh');\n                    var temp = '';\n                    temp += '<tr>';\n                    temp += '<td>' + MyArray.id + '</td>';\n                    temp += '<td>' + MyArray.aturan_minum + '</td>';\n                    temp += '<td><button class=\"btn btn-success btn-xs\" value=\"' + MyArray.id + '\" onclick=\"pilihAturanMinum(this)\">Pilih</button></td>';\n                    temp += '</tr>';\n\n                    $('#tblAturanMinum tbody').html(temp).hide().fadeIn(300, function() {\n                        $('#modalAturanMinum').modal('hide');\n                    });\n                }})\n            .fail(function() {\n                console.log(\"error\");\n            });\n            return false;\n        } else {\n            alert('input tidak boleh kosong');\n            return false;\n        }\n    }\n    //ajax5\n    function ddlSigna(sign){\n        $.ajax({\n            url: 'ddlSignaRuangPeriksa.php',\n            type: 'POST',\n            data: {ID_SIGNA : sign, _token:$('#token').val()},\n        })\n        .done(function(result) {\n            result = $.trim(result);\n            $('#ddlsigna').html(result).selectpicker('refresh');\n        })\n        .fail(function() {\n            console.log(\"error\");\n        });\n        return false;\n    }\n\n    \n\n    function selesaiPuyer(control) {\n        var asuransi_id = $('#asuransi_id').val();\n        $('#tipeResep').val('0').selectpicker('refresh');\n        $(control).fadeOut('400', function() {\n            $('#tipeResep').closest('div').find('.btn-white').closest('div').fadeIn('400');\n        });\n        if(asuransi_id == '32' || asuransi_id == '15' || asuransi_id == '3'){\n            $('#ddlNamaObat').val('-1').selectpicker('refresh').closest('div').fadeIn(400);\n        } else {\n            $('#ddlNamaObat').val('-3').selectpicker('refresh').closest('div').fadeIn(400);\n        }\n\n      $('#ddlNamaObat, #tipeResep')\n      .prop('disabled',true)\n      .selectpicker('refresh');\n        $('#ddlsigna, #ddlAturanMinum').val('0').selectpicker('refresh')\n        $('#ddlsigna, #ddlAturanMinum').closest('div').fadeIn(400);\n        $('#txtjumlah').focus();\n        return false;\n    }\n\nfunction selesaiAdd(control){\n\n    var asuransi_id = $('#asuransi_id').val();\n    $('#tipeResep').val('0').selectpicker('refresh');\n    $(control).fadeOut('400', function() {\n        $('#tipeResep').closest('div').find('.btn-white').closest('div').fadeIn('400');\n    });\n    $('#ddlNamaObat').val('-2').selectpicker('refresh').closest('div').fadeIn(400);\n    $('#ddlNamaObat, #tipeResep')\n      .prop('disabled',true)\n      .selectpicker('refresh');\n    $('#ddlsigna, #ddlAturanMinum').val('0').selectpicker('refresh')\n    $('#ddlsigna, #ddlAturanMinum').closest('div').fadeIn(400);\n        if (addSatu) {\n            $('#txtjumlah').val('1').hide();\n        }else{\n            $('#txtjumlah').val('0').hide();\n        }\n    $('#ddlsigna').closest('div').find('.btn-white').focus();\n    return false;\n\n}\n\nfunction optionSyrup(ID_MEREK){\n    $.ajax({\n        url: base + \"/DdlMerek/optionsyrup\",\n        type: 'GET',\n        data: {\n            'ID_MEREK'    : ID_MEREK,\n            'asuransi_id' : $('#asuransi_id').val() \n        },\n    })\n    .done(function(result) {\n        customOption(result);\n    })\n    .fail(function() {\n        console.log(\"error\");\n    })\n    .complete(function() {\n        $('#ddlNamaObat').selectpicker('refresh');\n    });\n}\n\n    function optionPuyer(ID_MEREK){\n        $.ajax({\n            url: base + \"/DdlMerek/optionpuyer\",\n            type: 'GET',\n            data: {\n                'ID_MEREK'    : ID_MEREK,\n                'asuransi_id' : $('#asuransi_id').val() \n            },\n        })\n        .done(function(result) {\n            customOption(result);\n        })\n        .fail(function() {\n            console.log(\"error\");\n        })\n        .complete(function() {\n            $('#ddlNamaObat').selectpicker('refresh');\n        });\n    }\n\n    function optionSemua(merek_id){\n        $.ajax({\n            url: base + \"/DdlMerek/alloption\",\n            type: 'GET',\n            data: { 'asuransi_id' : $('#asuransi_id').val() },\n        })\n        .done(function(dataMerek) {\n            customOption(dataMerek);\n\n        })\n        .fail(function() {\n            console.log(\"error\");\n        });\n    }\n    \n    \n    function resetSignaAturanMinum(){\n        $('#ddlsigna').val('').selectpicker('refresh');\n        $('#ddlAturanMinum').val('').selectpicker('refresh');\n        $('#txtjumlah').val('')\n\n    }\n    function resetAll(){\n        resetSignaAturanMinum();\n        $('select.kosong').val('').selectpicker('refresh')\n        namaObatFocus();\n        console.log('1');\n        alert('reset all');\n    }\n    function pilihSigna(control) {\n        var id = $(control).val();      \n        $('#ddlsigna').val(id).selectpicker('refresh');\n        $('#hideModalSigna').click();\n    }\n    function pilihAturanMinum(control){\n        var id = $(control).val();\n        $('#ddlAturanMinum').val(id).selectpicker('refresh');\n        $('#hideModalAturanMinum').click();\n\n    }\n    function insert(){\n\n        var ID_MER     = getIdMerek();\n        var ID_FOR     = getIdFormula();\n        var ID_RAK     = getIdRak();\n        var fornas     = getFornas();\n        var harga_jual = getHargaJual();\n        var tipe_resep = $('#tipeResep').val();\n\n        if (ID_RAK == 'D7' && tipe_resep == '1')  {\n            fornas = '1';\n        }\n\n        var MER    = $('#ddlNamaObat option:selected').text();\n        var juml   = $('#txtjumlah').val();\n        var ID_SIG = $('#ddlsigna').val();\n        var ID_ATU = $('#ddlAturanMinum').val();\n\n        $('#legendpop').popover('hide');\n\n\n        data[data.length] = {\n            \n            'jumlah'   : juml,\n            'merek_id' : ID_MER,\n            'rak_id' : ID_RAK,\n            'harga_jual_ini' : harga_jual,\n            'formula_id' : ID_FOR,\n            'merek_obat' : MER,\n            'fornas' : fornas,\n            'signa'   : $('#ddlsigna option:selected').text(),\n            'aturan_minum'   : $('#ddlAturanMinum option:selected').text()\n\n        };\n\n        var string = JSON.stringify(data);\n        $('#terapi').val(string);\n\n        sesuaikanInputResep(ID_MER);\n        var resep = resepJson(string);\n        viewResep(resep[1]);// container untuk perscription generator\n        namaObatFocus();\n        $('.kosong').val('');\n        $('select.kosong').selectpicker('refresh');\n        if ($('#ddlsigna').val() > 0){\n            resetSignaAturanMinum();\n            alert('kosongkan');\n        }\n    }\n\n    function customOption(dataMerek){\n        console.log('customOption');\n        var id = getIdMerek()\n\n        dataMerek = JSON.parse(dataMerek);\n        var temp = '';\n\n\n        for (var i = 0; i < dataMerek.length; i++) {\n\n            if(dataMerek[i].merek_id == id){\n                temp += '<option data-custom-value=\\'{ \"formula_id\" : \"' + dataMerek[i].formula_id +'\", \"rak_id\" : \"' + dataMerek[i].rak_id + '\", \"merek_id\" : \"'  + dataMerek[i].merek_id +  '\", \"harga_beli\" : \"'  + dataMerek[i].harga_beli +  '\" , \"aturan_minum_id\" : \"'  + dataMerek[i].aturan_minum_id +  '\" , \"harga_jual\" : \"'  + dataMerek[i].harga_jual +  '\" , \"sediaan\" : \"'  + dataMerek[i].sediaan +  '\" , \"tidak_dipuyer\" : \"'  + dataMerek[i].tidak_dipuyer +  '\" }\\' selected=\"selected\" data-subtext=\\'' + dataMerek[i].komposisi + '\\' value=\\'' + dataMerek[i].merek_id + '\\' data-peringatan=\\'' + dataMerek[i].peringatan + '\\' data-fornas=\\'' + dataMerek[i].fornas + '\\' data-alternatif=\\'' + dataMerek[i].alternatif + '\\'>' + dataMerek[i].merek + '</option>';\n            } else {\n                temp += '<option data-custom-value=\\'{ \"formula_id\" : \"' + dataMerek[i].formula_id +'\", \"rak_id\" : \"' + dataMerek[i].rak_id + '\", \"merek_id\" : \"'  + dataMerek[i].merek_id +  '\", \"harga_beli\" : \"'  + dataMerek[i].harga_beli +  '\" , \"aturan_minum_id\" : \"'  + dataMerek[i].aturan_minum_id +  '\" , \"harga_jual\" : \"'  + dataMerek[i].harga_jual +  '\" , \"sediaan\" : \"'  + dataMerek[i].sediaan +  '\" , \"tidak_dipuyer\" : \"'  + dataMerek[i].tidak_dipuyer +  '\" }\\' data-subtext=\\'' + dataMerek[i].komposisi + '\\' value=\\'' + dataMerek[i].merek_id + '\\' data-peringatan=\\'' + dataMerek[i].peringatan + '\\'  data-fornas=\\'' + dataMerek[i].fornas + '\\' data-alternatif=\\'' + dataMerek[i].alternatif + '\\'>' + dataMerek[i].merek + '</option>';\n            }\n        };\n\n        $('#ddlNamaObat').html(temp).selectpicker('refresh');\n        $('#bb_aktif').val('');\n        $('#keterangan_auto_keterangan').hide();\n        $('.auto').show(500);\n        $('#btn_auto_off').hide(500);\n        namaObatFocus();\n        \n    }\n\n    function customOption2(dataMerek, berat_badan){\n        console.log('customOption2');\n\n        var id = getIdMerek();\n\n        dataMerek = JSON.parse(dataMerek);\n        var temp = '';\n        for (var i = 0; i < dataMerek.length; i++) {\n        var doses = JSON.stringify(dataMerek[i].doses);\n\n            if(dataMerek[i].merek_id == id){\n                temp += '<option data-dose=\\'' + doses + '\\' data-custom-value=\\'{ \"formula_id\" : \"' + dataMerek[i].formula_id +'\", \"rak_id\" : \"' + dataMerek[i].rak_id + '\", \"merek_id\" : \"'  + dataMerek[i].merek_id +  '\", \"harga_beli\" : \"'  + dataMerek[i].harga_beli +  '\" , \"aturan_minum_id\" : \"'  + dataMerek[i].aturan_minum_id +  '\" , \"harga_jual\" : \"'  + dataMerek[i].harga_jual +  '\" , \"sediaan\" : \"'  + dataMerek[i].sediaan +  '\" , \"tidak_dipuyer\" : \"'  + dataMerek[i].tidak_dipuyer +  '\" }\\' selected=\"selected\" data-subtext=\\'' + dataMerek[i].komposisi + '\\' value=\\'' + dataMerek[i].merek_id + '\\' data-peringatan=\\'' + dataMerek[i].peringatan + '\\' data-fornas=\\'' + dataMerek[i].fornas + '\\' data-alternatif=\\'' + dataMerek[i].alternatif + '\\'>' + dataMerek[i].merek + '</option>';\n            } else {\n                temp += '<option data-dose=\\'' + doses + '\\' data-custom-value=\\'{ \"formula_id\" : \"' + dataMerek[i].formula_id +'\", \"rak_id\" : \"' + dataMerek[i].rak_id + '\", \"merek_id\" : \"'  + dataMerek[i].merek_id +  '\", \"harga_beli\" : \"'  + dataMerek[i].harga_beli +  '\" , \"aturan_minum_id\" : \"'  + dataMerek[i].aturan_minum_id +  '\" , \"harga_jual\" : \"'  + dataMerek[i].harga_jual +  '\" , \"sediaan\" : \"'  + dataMerek[i].sediaan +  '\" , \"tidak_dipuyer\" : \"'  + dataMerek[i].tidak_dipuyer +  '\" }\\' data-subtext=\\'' + dataMerek[i].komposisi + '\\' value=\\'' + dataMerek[i].merek_id + '\\' data-peringatan=\\'' + dataMerek[i].peringatan + '\\' data-fornas=\\'' + dataMerek[i].fornas + '\\' data-alternatif=\\'' + dataMerek[i].alternatif + '\\'>' + dataMerek[i].merek + '</option>';\n            }\n        };\n\n        $('#ddlNamaObat').html(temp).selectpicker('refresh');\n\n        $('#keterangan_auto').html(berat_badan);\n        $('#keterangan_auto_keterangan').removeClass('hide').hide().slideDown(500);\n        $('#ddlNamaObat').val('').selectpicker('refresh');\n        $('#ddlAturanMinum').val('').selectpicker('refresh');\n        $('#ddlsigna').val('').selectpicker('refresh');\n        $('#txtjumlah').val('');\n        $('.auto').hide(500);\n        $('#btn_auto_off').show(500);\n        namaObatFocus();\n    }\n\n    function customOption2a(dataMerek, berat_badan){\n        console.log('customOption2a');\n\n        var id = getIdMerek()\n\n        dataMerek = JSON.parse(dataMerek);\n        var temp = '';\n        for (var i = 0; i < dataMerek.length; i++) {\n        var doses = JSON.stringify(dataMerek[i].doses);\n\n            if(dataMerek[i].merek_id == id){\n                temp += '<option data-dose=\\'' + doses + '\\' data-custom-value=\\'{ \"formula_id\" : \"' + dataMerek[i].formula_id +'\", \"rak_id\" : \"' + dataMerek[i].rak_id + '\", \"merek_id\" : \"'  + dataMerek[i].merek_id +  '\", \"harga_beli\" : \"'  + dataMerek[i].harga_beli +  '\" , \"aturan_minum_id\" : \"'  + dataMerek[i].aturan_minum_id +  '\" , \"harga_jual\" : \"'  + dataMerek[i].harga_jual +  '\" , \"sediaan\" : \"'  + dataMerek[i].sediaan +  '\" , \"tidak_dipuyer\" : \"'  + dataMerek[i].tidak_dipuyer +  '\" }\\' selected=\"selected\" data-subtext=\\'' + dataMerek[i].komposisi + '\\' value=\\'' + dataMerek[i].merek_id + '\\' data-peringatan=\\'' + dataMerek[i].peringatan + '\\' data-fornas=\\'' + dataMerek[i].fornas + '\\' data-alternatif=\\'' + dataMerek[i].alternatif + '\\'>' + dataMerek[i].merek + '</option>';\n            } else {\n                temp += '<option data-dose=\\'' + doses + '\\' data-custom-value=\\'{ \"formula_id\" : \"' + dataMerek[i].formula_id +'\", \"rak_id\" : \"' + dataMerek[i].rak_id + '\", \"merek_id\" : \"'  + dataMerek[i].merek_id +  '\", \"harga_beli\" : \"'  + dataMerek[i].harga_beli +  '\" , \"aturan_minum_id\" : \"'  + dataMerek[i].aturan_minum_id +  '\" , \"harga_jual\" : \"'  + dataMerek[i].harga_jual +  '\" , \"sediaan\" : \"'  + dataMerek[i].sediaan +  '\" , \"tidak_dipuyer\" : \"'  + dataMerek[i].tidak_dipuyer +  '\" }\\' data-subtext=\\'' + dataMerek[i].komposisi + '\\' value=\\'' + dataMerek[i].merek_id + '\\' data-peringatan=\\'' + dataMerek[i].peringatan + '\\' data-fornas=\\'' + dataMerek[i].fornas + '\\' data-alternatif=\\'' + dataMerek[i].alternatif + '\\'>' + dataMerek[i].merek + '</option>';\n            }\n        };\n\n        $('#ddlNamaObat').html(temp).selectpicker('refresh');\n\n        $('#keterangan_auto').html(berat_badan);\n        $('#keterangan_auto_keterangan').removeClass('hide').hide().slideDown(500);\n        $('#ddlNamaObat').val('').selectpicker('refresh');\n        $('#ddlAturanMinum').val('').selectpicker('refresh');\n        $('#ddlsigna').val('').selectpicker('refresh');\n        $('#txtjumlah').val('');\n        $('.auto').hide(500);\n        $('#btn_auto_off').show(500);\n    }\n\n    function getIdMerek(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var data_custom = $('#ddlNamaObat option:selected').attr(\"data-custom-value\");\n            merek = JSON.parse(data_custom);\n            var id = merek.merek_id;\n        } else {\n            var id = '';\n        }\n\n        return id;\n    }\n    function getIdFormula(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var data_custom = $('#ddlNamaObat option:selected').attr(\"data-custom-value\");\n            merek = JSON.parse(data_custom);\n            var id = merek.formula_id;\n        } else {\n            var id = '';\n        }\n\n        return id;\n    }\n    function getIdRak(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var data_custom = $('#ddlNamaObat option:selected').attr(\"data-custom-value\");\n            merek = JSON.parse(data_custom);\n            var id = merek.rak_id;\n        } else {\n            var id = '';\n        }\n\n        return id;\n    }\n    function getFornas(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var fornas = $('#ddlNamaObat option:selected').attr(\"data-fornas\");\n        } else {\n            var fornas = '';\n        }\n\n        return fornas;\n    }\n    function getHargaJual(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var data_custom = $('#ddlNamaObat option:selected').attr(\"data-custom-value\");\n            merek = JSON.parse(data_custom);\n            var kali_obat = $('#kali_obat').val();\n            console.log('kali_obat = ' + kali_obat);\n            var harga_jual = merek.harga_jual * parseInt(kali_obat);\n        } else {\n            var harga_jual = '';\n        }\n        return harga_jual;\n    }\n    function getAturanMinumId(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var data_custom = $('#ddlNamaObat option:selected').attr(\"data-custom-value\");\n            merek = JSON.parse(data_custom);\n            var id = merek.aturan_minum_id;\n        } else {\n            var id = '';\n        }\n        return id;\n    }\n    function getMerek(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var id = $('#ddlNamaObat option:selected').text();\n        } else {\n            var id = '';\n        }\n        return id;\n    }\n    function getSediaan(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var data_custom = $('#ddlNamaObat option:selected').attr(\"data-custom-value\");\n            merek = JSON.parse(data_custom);\n            var id = merek.sediaan;\n        } else {\n            var id = '';\n        }\n        return id;\n    }\n    function getTidakDipuyer(){\n        var merek = $('#ddlNamaObat').val();\n        if(merek != ''){\n            var data_custom = $('#ddlNamaObat option:selected').attr(\"data-custom-value\");\n            merek = JSON.parse(data_custom);\n            var id = merek.tidak_dipuyer;\n        } else {\n            var id = '';\n        }\n        return id;\n    }\n\n    function panggil(control){\n        alert('panggil');\n    }\n\n    function rowdel(control){\n\n        var MyArray = JSON.parse($(control).val());\n        $('#legendpop').popover('hide');\n\n        data.splice(MyArray[0].id, MyArray.length);\n\n        var string = JSON.stringify(data);\n        $('#terapi').val(string);\n        var resep = resepJson(string);\n        viewResep(resep[1]);\n        if($('#puyer').val() == '0' && $('#boolAdd').val() == '0'){\n            $('#boolSirupPuyer').val('0');\n        }\n\n        var sig = '';\n\n        if(data.length > 0){\n            sig = data[data.length - 1].signa;\n        }\n\n\n        if ( sig == 'Puyer' && $('#boolSirupPuyer').val() == '0') {\n            $('#tipeResep').val('1');\n            hideTipeResepPuyer(null);\n            tipePuyer();\n        } else if ( sig == 'Add' && $('#boolSirupPuyer').val() == '0'){\n            $('#tipeResep').val('2');\n            hideTipeResepSirup2(null);\n            tipeSirup();\n        } else if ( $('#boolSirupPuyer').val() == '0' ) {\n            //bila yang terakhir adalah yang normal\n            // direset pilihan signa, aturanminum, dan jummlah\n            $('#tipeResep').closest('div').find('.btn-info').fadeOut('500', function() {\n                $(this).remove();\n            });;\n\n            $('#tipeResep').closest('div').find('.btn-primary').fadeOut('500', function() {\n                $(this).remove();\n            });\n\n            $('#ddlsigna').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#tipeResep').val('0').selectpicker('refresh').closest('div').find('.btn-white').closest('div').fadeIn(500);\n            $('#ddlAturanMinum').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#txtjumlah').val('').selectpicker('refresh').fadeIn(500);\n            //jika tipe standar, maka pilihan nama obat dikembalikan lagi, semua resep tersedia\n            optionSemua(null);\n            $('#boolSirupPuyer').val('0');\n\n        }\n    }\n\n    function sesuaikanInputResep(ID_MER) {\n        if($('#tipeResep').val() == \"0\" && $('#ddlNamaObat option:selected').text() == \"Add Sirup\"){\n            $('#txtjumlah').val('').fadeIn(500);\n            optionSemua(ID_MER);\n        }\n                //tipe resep 1 = puyer\n        if($('#tipeResep').val() == '1' && $('#boolSirupPuyer').val() == '0'){\n               tipePuyer();\n               //tipe resep 2 = add\n        } else if ($('#tipeResep').val() == '2' && $('#boolSirupPuyer').val() == '0'){\n               tipeSirup();\n        } else if ($('#tipeResep').val() == '0' && $('#boolSirupPuyer').val() == '1'){\n\n            $('#boolSirupPuyer').val('0');\n            resetSignaAturanMinum();\n            optionSemua(ID_MER);\n            console.log('2');\n\n\n        } else if ($('#tipeResep').val() == '0' || $('#tipeResep').val() == ''){\n            resetSignaAturanMinum();\n            console.log('3');\n        }\n    }\n\n    function sesuaikanResep() {\n        // bila yang terakhir ditinggal kan Add Sirup\n        if($('#boolAdd').val() == '1'){\n            $('#tipeResep').closest('div').find('.btn-white').closest('div').fadeOut('400', function() {\n                var button = '<button class=\"btn btn-primary btn-block\" onclick=\"selesaiAdd(this);return false;\" id=\"selesaikanAdd\">Selesaikan Sirup</button>';\n                $('#tipeResep').closest('div').prepend(button).hide().fadeIn(400);\n            });\n                        //signa -2 adalah add sirup\n            $('#ddlsigna').val('-2').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            //aturan minum juga ditentukan saja dengan id 1 (sesuadah makan)\n            $('#ddlAturanMinum').val('1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            //pada keadaan tipe resep sirup, pilihan pertam selalu sirup, maka ID_SEDIAAN lain selain 3 (sirup), dihilangkan\n            optionPuyer(null);\n            $('#txtjumlah').val('').selectpicker('refresh').fadeIn(500);\n            namaObatFocus();\n        //Bila yang terakhir ditinggalkan adalah Puyer\n        } else if ($('#puyer').val() == '1'){\n\n            $('#tipeResep').closest('div').find('.btn-white').closest('div').fadeOut('400', function() {\n                var button = '<button class=\"btn btn-info btn-block\" onclick=\"selesaiPuyer(this);return false;\" id=\"selesaikanPuyer\">Selesaikan Puyer</button>';\n                $('#tipeResep').closest('div').prepend(button).hide().fadeIn(400);\n            });\n            $('#ddlsigna').val('-1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            $('#ddlAturanMinum').val('1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            $('#txtjumlah').val('').selectpicker('refresh').fadeIn(500);\n            optionPuyer(null);\n            namaObatFocus();\n\n        } else {\n            //bila yang terakhir adalah yang normal\n            // direset pilihan signa, aturanminum, dan jummlah\n            $('#tipeResep').closest('div').find('.btn-info').fadeOut('500', function() {\n                $(this).remove();\n            });;\n\n            $('#tipeResep').closest('div').find('.btn-primary').fadeOut('500', function() {\n                $(this).remove();\n            });\n\n\n            $('#ddlsigna').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#tipeResep').val('0').selectpicker('refresh').closest('div').find('.btn-white').closest('div').fadeIn(500);\n            $('#ddlAturanMinum').val('').selectpicker('refresh').closest('.input-group').fadeIn(500);\n            $('#txtjumlah').val('').selectpicker('refresh').fadeIn(500);\n            //jika tipe standar, maka pilihan nama obat dikembalikan lagi, semua resep tersedia\n            optionSemua(null);\n            $('#boolSirupPuyer').val('0');\n        }\n\n    }\n\n\n    function tipePuyer() {\n         $('#boolSirupPuyer').val('1');\n            $('#puyer').val('1');\n            $('#tipeResep').closest('div').find('.btn-white').closest('div').fadeOut('400', function() {\n                var button = '<button class=\"btn btn-info btn-block\" onclick=\"selesaiPuyer(this);return false;\" id=\"selesaikanPuyer\">Selesaikan Puyer</button>';\n                $('#tipeResep').closest('div').prepend(button).hide().fadeIn(400);\n            });\n    }\n\n    function tipeSirup(){\n\n            $('#boolSirupPuyer').val('1');\n            $('#tipeResep').closest('div').find('.btn-white').closest('div').fadeOut('400', function() {\n                var button = '<button class=\"btn btn-primary btn-block\" onclick=\"selesaiAdd(this);return false;\" id=\"selesaikanAdd\">Selesaikan Sirup</button>';\n                $('#tipeResep').closest('div').prepend(button).hide().fadeIn(400);\n            });\n\n            optionPuyer(null);\n            $('#txtjumlah').val('').selectpicker('refresh').fadeIn(500);\n\n    }\n\n    function hideTipeResepPuyer(id){\n\n            $('#ddlsigna').val('-1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            $('#ddlAturanMinum').val('1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            optionPuyer(id);\n    }\n\n    function hideTipeResepSirup(id){\n            //signa -2 adalah add sirup\n            $('#ddlsigna').val('-2').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            //jumlah dihilangkan dan ditentukan nilainya adalah 1, karena tidak mungkin add banyak sirup\n            $('#txtjumlah').val('1').selectpicker('refresh').fadeOut(500);\n            //aturan minum juga ditentukan saja dengan id 1 (sesuadah makan)\n            $('#ddlAturanMinum').val('1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            //pada keadaan tipe resep sirup, pilihan pertam selalu sirup, maka ID_SEDIAAN lain selain 3 (sirup), dihilangkan\n            optionSyrup(id);\n    }\n    function hideTipeResepSirup2(id){\n            //signa -2 adalah add sirup\n            $('#ddlsigna').val('-2').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            //jumlah dihilangkan dan ditentukan nilainya adalah 1, karena tidak mungkin add banyak sirup\n            $('#txtjumlah').val('1').selectpicker('refresh').fadeOut(500);\n            //aturan minum juga ditentukan saja dengan id 1 (sesuadah makan)\n            $('#ddlAturanMinum').val('1').selectpicker('refresh').closest('.input-group').fadeOut(500);\n            //pada keadaan tipe resep sirup, pilihan pertam selalu sirup, maka ID_SEDIAAN lain selain 3 (sirup), dihilangkan\n            optionPuyer(id);\n    }\n\n    function submitTindakan(){\n        var valJsonAwal = $('#selectTindakan').val();\n        valJson         = $.parseJSON(valJsonAwal);\n        var biaya               = valJson.biaya;\n        var jenis_tarif_id      = valJson.jenis_tarif_id;\n        var tarif               = $('#selectTindakan option:selected').text();\n        var keterangan_tindakan = $('#keteranganTindakan').val();\n\n\n        if (valJsonAwal != '') {\n            dataTindakan[dataTindakan.length] = {\n                'jenis_tarif_id' : jenis_tarif_id,\n                'jenis_tarif' : tarif,\n                'biaya' : biaya,\n                'keterangan_tindakan' : keterangan_tindakan\n            }\n\n            var string = JSON.stringify(dataTindakan);\n            $('#tindakan').val(string);\n\n            viewTindakan(dataTindakan);\n            resetInputTIndakan();\n\n        } else {\n\n            validasi('#selectTindakan', 'Harus Diisi!');\n            resetInputTIndakan();\n\n        }\n\n        optionBilaNebuBpjs();\n\n    }\n\n    function viewTindakan(MyArray){\n        var temp =\"\";\n        for (var i = 0; i < MyArray.length; i++) {\n            temp += '<tr>';\n            temp += '<td>' + MyArray[i].jenis_tarif+ '</td>';\n            temp += '<td>' + MyArray[i].keterangan_tindakan+ '</td>';\n            temp += '<td><button class=\"btn btn-danger btn-xs\" value=\"' + i + '\" onclick=\"tindakanDel(this)\">hapus</button></td>';\n            temp += '</tr>';\n        }\n\n        $('#ajaxTindakan').html(temp);\n        $('#tindakan').val(JSON.stringify(dataTindakan));\n        var temp = '';\n        var biaya = 0;\n        for (var i = 0; i < MyArray.length; i++) {\n            if(MyArray[i].biaya > 0){\n                temp += '<tr>';\n                temp += '<td>' + MyArray[i].jenis_tarif+ '</td>';\n                temp += '<td class=\"uang\">' + MyArray[i].biaya+ '</td>';\n                temp += '</tr>';\n\n                biaya += MyArray[i].biaya;\n            }\n        }\n\n        console.log(temp);\n        $('#dibayarTIndakanBpjs').html(temp);\n        $('#TotalDibayarTindakanBPJS').html(biaya)\n        rupiah();\n        bpjsBayar();\n    }\n\n    function tindakanDel(control) {\n\n        var i = $(control).val();\n\n        dataTindakan.splice(i, 1);\n\n        viewTindakan(dataTindakan);\n        resetInputTIndakan();\n        optionBilaNebuBpjs();\n    }\n\n    function resetInputTIndakan(){\n        $('#keteranganTindakan').val('');\n        $('#selectTindakan').val(null).selectpicker('refresh').closest('tr').find('.btn-white').focus();\n    }\n\n    function dirujuk(){\n        $('#confirmRujuk').hide();\n        $('#infoRujuk').removeClass('hide').hide().slideDown(500);\n        $('#tujuan_rujuk2').focus();\n\n    }\n\n    function tidakDirujuk(){\n        clearRujuk();\n        // submit berhasil\n        $('#submitFormPeriksa').click();\n    }\n\n    function rujukanSelesai(){\n        var tujuan = $('#tujuan_rujuk2').val();\n        if (tujuan == '') {\n            validasi('#tujuan_rujuk2', 'Harus Diisi!');\n        } else {\n            $('#tujuan_rujuk').val($('#tujuan_rujuk2').val());\n            $('#alasan_rujuk').val($('#alasan_rujuk2').val());\n            $('#submitFormPeriksa').click();\n        }\n    }\n\n    function cancelRujukan(){\n        $('#modal-id').modal('hide');\n        clearRujuk();\n    }\n\n    function serial(){\n        console.log($('#submitPeriksa').serializeArray());\n    }\n\n    function clearRujuk(){\n\n        $('#tujuan_rujuk').val('');\n        $('#alasan_rujuk').val('');\n    }\n\n    function tabResepActive(){\n        console.log('yeya');\n        namaObatFocus();\n\n    }\n\n    function diagnosaChange(){\n\n        var asuransi_id = $('#asuransi_id').val();\n        var berat_badan = $('#bb_input').val();\n        var diagnosa_id = $('#ddlDiagnosa').val();\n        var staf_id = $('#staf_id').val();\n\n\n\n        if (asuransi_id == '32') {\n            $.post( base + \"/poli/ajax/diagcha\", {'diagnosa_id': $('#ddlDiagnosa').val()}, function(data) {\n                data = $.trim(data);\n                if (data == '1') {\n                    $('#keterangan_boleh_dirujuk').empty();\n                    if ($('#ddlDiagnosa').val() != '' || $('#ddlDiagnosa').val() != null ) {\n                        var diagnosa = $('#ddlDiagnosa option:selected').text();\n                        var text = '<div class=\"alert alert-danger\" id=\"isi_pesan_fornas\">' + diagnosa + ' <strong>tidak boleh DIRUJUK </strong> pilih diagnosa lain (menurut ICD10) bila pasien memang benar2 harus dirujuk</div>';\n                        $('#keterangan_boleh_dirujuk').prepend(text).hide().fadeIn(500);\n                    }\n                } else {\n                    $('#keterangan_boleh_dirujuk').empty();\n                }\n            });\n        }\n        // AUTO perscription generator untuk mengenerate SOP terapi\n        generate();\n        var str1 = '';\n        if ($('#ddlDiagnosa').val() != '') {\n            str1 = $('#ddlDiagnosa option:selected').text();\n        }\n        // alert(str1);\n        if(str1.indexOf('J45') != -1){\n            $('#lblDiagnosa').attr({\n\n                'title'  : 'Bila Asma Berat',\n                'data-original-title'  : 'Bila Asma Berat',\n                'data-content': 'Jika ASMA BERAT, berikan bersama dexa inj IV 2 ampul, dan prednison 40 tab hr 1-2 :3x3, hr 3-4 : 3x2, hr 5-7 : 3x1, Decafil 20 tablet, termasuk untuk pasien BPJS'\n            });\n            $('#lblDiagnosa').popover('show');\n        } else {\n            $('#lblDiagnosa').popover('hide');\n        }\n    }\n    function namaObatFocus(){\n        $('#ddlNamaObat').closest('div').find('.btn-white').focus();\n    }\n    function clearResep() {\n        $('#terapi').val('[]');\n        data=[];\n        viewResep('');\n        namaObatFocus();\n    }\n    function generatePerscription(){\n        var result_array = temp_sop_terapi;\n        i_sop_terapi = i_sop_terapi + 1;\n        var i = parseInt(i_sop_terapi) + 1;\n        var terapi = result_array[i_sop_terapi]['terapi'];\n        terapi = JSON.stringify(terapi);\n        if (i == length_sop_terapi) {\n            i_sop_terapi = -1;\n        }\n        data = JSON.parse(terapi);\n        $('#terapi').val(terapi);\n        viewResep(resepJson(terapi)[1]);\n        $('#tampungan_sop_terapi').html(i + '/' + length_sop_terapi);\n\n    }\n\n    function viewResep(control){\n        console.log(viewResep);\n        $('#ajax5').html(control);\n         //bagian ini khusus untuk tipe_asuransi == 4 / flat\n         if ($('#plafon').length > 0) {\n            var totalBiayaObat = 0;\n\n            var resep = $('#terapi').val();\n            resep = JSON.parse(resep);\n            console.log(resep);\n            var harga_jual = 0\n            for (var i = 0; i < resep.length; i++) {\n                harga_jual = resep[i].harga_jual_ini;\n                totalBiayaObat += harga_jual * resep[i].jumlah * $('#kali_obat').val();\n                console.log('harga dari ' + resep[i].merek + ' = ' + harga_jual)\n            }\n            var plafon = $('#plafon_total').val() - totalBiayaObat;\n            console.log('totalBiayaObat = ' + totalBiayaObat);\n            console.log('plafon value = ' + $('#plafon_total').val());\n            console.log('plafon = ' + plafon);\n            console.log('plafon adalah = ' + plafon);\n            $('#plafon').html(plafon);\n\n            if (plafon < 0) {\n\n                $('#uangKekuranganFlat').html(rataAtas5000(Math.abs(plafon)));\n\n                if ($('#kekuranganFlat').hasClass('hide')) {\n                    $('#kekuranganFlat').removeClass('hide');\n                }\n            } else {\n                if (!$('#kekuranganFlat').hasClass('hide')) {\n                    $('#kekuranganFlat').addClass('hide');\n                }\n            }\n\n         }\n\n        if ($('#bilaTipeBPJS').length > 0) {\n            var tempDibayarBPJS = '';\n            var totalBiaya = 0;\n            var biaya_ini = 0;\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].fornas == '0') {\n                    biaya_ini = data[i].harga_jual_ini * data[i].jumlah * $('#kali_obat').val();\n                    totalBiaya += biaya_ini;\n                    tempDibayarBPJS += '<tr>';\n                    tempDibayarBPJS += '<td>' + data[i].merek_obat + '</td>';\n                    tempDibayarBPJS += '<td>' + data[i].jumlah + '</td>';\n                    tempDibayarBPJS += '</tr>';\n                }\n            }\n\n            totalBiaya = rataAtas5000(totalBiaya);\n\n            $('#bilaTipeBPJS').html(tempDibayarBPJS);\n            $('#totalBilaTipeBPJS').html(totalBiaya);\n            rupiah();\n            bpjsBayar();\n\n         }\n        $('#peringatan').empty();\n    }\n\n    function generate(){\n        var dataEntry = {\n            'asuransi_id' : $('#asuransi_id').val(),\n            'pasien_id' : $('#pasien_id').val(),\n            'berat_badan' : $('#bb_input').val(),\n            'diagnosa_id' : $('#ddlDiagnosa').val(),\n            'staf_id' : $('#staf_id').val(),\n            '_token' :  $('#token').val()\n        }\n\n        var terapi = $('#terapi').val();\n        if ($('#hamil').val() != '1' && $('#dibantu').val() == '1' && ( terapi == '' || terapi == '[]') ) {\n            $.post(base + '/poli/ajax/sopterapi', dataEntry, function(result) {\n\t\t\t\tconsole.log(result);\n                result = $.trim(result);\n                var result_array = JSON.parse(result);\n                temp_sop_terapi = result_array;\n                length_sop_terapi = result_array.length;\n\n                if(result_array[0]){\n                    \n                    var terapi = result_array[0]['terapi'];\n                    terapi = JSON.stringify(terapi);\n                    data = JSON.parse(terapi);\n                    $('#terapi').val(terapi);\n                    viewResep(resepJson(terapi)[1]);\n                    $('#tampungan_sop_terapi').html('1/' + length_sop_terapi);\n                    i_sop_terapi = 0;\n                } else {\n                    var terapi = '[]';\n                    $('#terapi').val(terapi);\n                    viewResep(resepJson(terapi)[1]);\n                    temp_sop_terapi = [];\n                    $('#tampungan_sop_terapi').html('0');\n                    i_sop_terapi = 0;\n                }\n            }).fail(function(data){\n\n                console.log(data);\n    // Error...\n                var errors = $.parseJSON(data.responseText);\n\n                console.log(errors);\n\n                $.each(errors, function(index, value) {\n                    $.gritter.add({\n                        title: 'Error',\n                        text: value\n                    });\n                });\n            });\n        };\n    }\n    function generate2(){\n        var dataEntry = {\n            'asuransi_id' : $('#asuransi_id').val(),\n            'pasien_id' : $('#pasien_id').val(),\n            'berat_badan' : $('#bb_input').val(),\n            'diagnosa_id' : $('#ddlDiagnosa').val(),\n            'staf_id' : $('#staf_id').val(),\n            '_token' :  $('#token').val()\n        }\n\n        var terapi = $('#terapi').val();\n        if ($('#hamil').val() != '1' && $('#dibantu').val() == '1' ) {\n            $.post(base + '/poli/ajax/sopterapi', dataEntry, function(result) {\n                result = $.trim(result);\n\n                var result_array = JSON.parse(result);\n                temp_sop_terapi = result_array;\n                length_sop_terapi = result_array.length;\n\n                if(result_array[0]){\n                    \n                    var terapi = result_array[0]['terapi'];\n                    terapi = JSON.stringify(terapi);\n                    data = JSON.parse(terapi);\n                    $('#terapi').val(terapi);\n                    viewResep(resepJson(terapi)[1]);\n                    $('#tampungan_sop_terapi').html('1/' + length_sop_terapi);\n                    i_sop_terapi = 0;\n                } else {\n                    var terapi = '[]';\n                    $('#terapi').val(terapi);\n                    viewResep(resepJson(terapi)[1]);\n                    temp_sop_terapi = [];\n                    $('#tampungan_sop_terapi').html('0');\n                    i_sop_terapi = 0;\n                }\n            });\n        };\n    }\n    function hasil(){\n        var presentasi = $('#usg_presentasi').val();\n            var patologis = ''\n            var sex = $('#usg_sex').val();\n            var plasenta = $('#usg_plasenta').val();\n            var ltp = $('#usg_ltp').val();\n            var umur_kehamilan = $('#uk').val();\n            var efw = $('#usg_efw').val();\n            var djj = $('#usg_djj').val();\n            var riw_obs = 'G' + $('#G').val() +'P' + $('#P').val()+'A' + $('#A').val()\n            var afi = $('#total_afi').val();\n            var uk_usg = '';\n\n            var minggu = $.trim(umur_kehamilan.split('minggu')[0]);\n            console.log('umur_kehamilan = ' + umur_kehamilan );\n            console.log('minggu = ' + minggu );\n            if (minggu >=12 && minggu <=24) {\n                uk_usg = $('#BPD_w').val() + ' minggu ' + $('#BPD_d').val() + ' hari';\n            } else if (minggu >=24){\n                uk_usg = $('#FL_w').val() + ' minggu ' + $('#FL_d').val() + ' hari';\n            }\n            console.log('uk_usg = ' + uk_usg);\n            var status_afi = 'cukup';\n            if (parseInt(afi) > 8) {\n                status_afi = 'berlebihan';\n                patologis += 'polihydramnion, ';\n            } else if (parseInt(afi) < 2){\n               status_afi =  'kurang';\n                patologis += 'oligohydramnion, ';\n\n            }\n            var djj_status = 'normal'\n            if (parseInt(djj) > 160) {\n                djj_status = 'tinggi';\n                patologis += 'takikardia fungsional dd/ Gawat Janin, ';\n\n            } else if( parseInt(djj) < 120){\n                djj_status = 'rendah';\n                patologis += 'Gawat Janin, ';\n            }\n\n            if (ltp == '0') {\n                ltp = 'tidak ada'\n            };\n            var temp = 'Janin presentasi ' + presentasi + ', denyut jantung janin ' + djj_status + ' '  + djj + ' x/mnt, ' + ltp +' lilitan tali pusat, perikiraan berat janin ' + efw + ' gr';\n            temp += ', umur kehamilan menurut USG saat ini = ' + uk_usg;\n            temp += ', jenis kelamin ' + sex + ', plasenta di ' + plasenta + ', cairan ketuban 1 kantong terdalam ' + afi + ', ' + status_afi + ', ' + riw_obs + 'H' +  umur_kehamilan + ', Janin presentasi ' + presentasi +', ' + patologis;\n\n            var periksa_lagi = '4 minggu lagi';\n            if (minggu >= 37) {\n                periksa_lagi = '1 minggu lagi';\n            } else if(minggu >=32){\n                periksa_lagi = '2 minggu lagi';\n            }\n\n            $('#saran').val('periksa lagi ' + periksa_lagi);\n\n            console.log(temp);\n            $('#kesimpulan').val(temp)\n    }\n\n    function riwObsG(){\n     if ($('#G').val() != '' && $('#G').val() < 10) {\n            var pasien_id = $('#pasien_id').val();\n            $.post(base + '/anc/registerhamil', {'G': $('#G').val(), 'pasien_id' : pasien_id}, function(data, textStatus, xhr) {\n                if (data != '') {\n                    console.log(data);\n                    if (data.buku != null) {\n                        var buku = data.buku.id\n                    } else {\n                        var buku = 3;\n                    }\n                    $('#hpht').val(data.hpht);\n                    $('#uk').val(data.uk);\n                    $('#P').val(data.p);\n                    $('#A').val(data.a);\n                    $('#tanggal_lahir_anak_terakhir').val(data.tanggal_lahir_anak_terakhir);\n                    $('#golongan_darah').val(data.golongan_darah);\n                    $('#rencana_penolong').val(data.rencana_penolong);\n                    $('#rencana_tempat').val(data.rencana_tempat);\n                    $('#rencana_pendamping').val(data.rencana_pendamping);\n                    $('#rencana_transportasi').val(data.rencana_transportasi);2\n                    $('#rencana_pendonor').val(data.rencana_pendonor);\n                    $('#tb').val(data.tb);\n                    $('#jumlah_janin').val(data.jumlah_janin);\n                    $('#status_imunisasi_tt_id').val(data.status_imunisasi_tt_id);\n                    $('#nama_suami').val(data.nama_suami);\n                    $('#buku').val(buku);\n                    $('#bb_sebelum_hamil').val(data.bb_sebelum_hamil);\n                    $('#riwayat_kehamilan').val(data.riwayat_kehamilan_sebelumnya);\n                    uk_exec('uk', 'hpht');\n                    viewNoFocus();\n                }\n            });\n        } else {\n          $('.gpa2').val('');\n            $('.panelRiwayat').val('');\n            $('#riwayat_kehamilan').val('[]');\n            viewNoFocus();\n        }\n    }\nfunction fokusKeAnemnesa(){\n    $('#cekFoto').modal('hide');\n    $('#cekFoto').on('hidden.bs.modal', function (e) {\n        $('#anamnesa').focus();\n        $('#labelKecelakaanKerja').on('shown.bs.popover', function(){\n            setTimeout(function(){ \n                $('#labelKecelakaanKerja').popover('hide');\n             }, 8000);\n        });\n        $('#labelKecelakaanKerja').popover('show');\n    });\n\n}\n\nfunction showFotoZoom(){\n    $('#fotozoom').modal('show');\n}\n\nfunction rupiah(){\n    $('.uang:not(:contains(\"Rp.\"))').each(function() {\n        var number = $(this).html();\n        number = number.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\"); // 43,434\n        $(this).html('Rp. ' + number + ' ,-');\n    });\n}\n\nfunction kecelakaanKerjaChange(control){\n    var asuransi_id = $('#asuransi_id').val();\n    var kklkk = $(control).val();\n    var antrianperiksa_id = $('#antrianperiksa_id').val();\n    if (asuransi_id == '32' && kklkk == '1') {\n    $('#pleaseWaitDialog').modal({backdrop: 'static', keyboard: false});\n        $.ajax({\n            url: base + '/poli/ajax/kkchange',\n            type: 'POST',\n            data: {'antrianperiksa_id': antrianperiksa_id},\n        })\n        .done(function() {\n            location.reload(true);\n        })\n        .fail(function() {\n            $('#pleaseWaitDialog').modal('hide');\n            console.log(\"error\");\n        });\n    }\n}\n\nfunction asuransiIdChange(control){\n    var asuransi_id = $(control).val();\n    var antrianperiksa_id = $('#antrianperiksa_id').val();\n    $('#pleaseWaitDialog').modal({backdrop: 'static', keyboard: false});\n    $.ajax({\n        url: base + '/poli/ajax/asuridchange',\n        type: 'POST',\n        data: {\n            'asuransi_id': asuransi_id,\n            'antrianperiksa_id': antrianperiksa_id\n        },\n    })\n    .done(function() {\n        location.reload(true);\n    })\n    .fail(function() {\n        $('#pleaseWaitDialog').modal('hide');\n        console.log(\"error\");\n    })\n    .always(function() {\n        console.log(\"complete\");\n    });\n}\nfunction bpjsBayar(){\n    var asuransi_id = $('#asuransi_id').val();\n    if (asuransi_id == '32') {\n        var tindakan = $('#TotalDibayarTindakanBPJS').html();\n        var obat = $('#totalBilaTipeBPJS').html();\n        if (obat == 'Rp. ,-') {\n            obat = 'Rp. 0,-';\n        }\n        if (tindakan == 'Rp. ,-') {\n            tindakan = 'Rp. 0,-';\n        }\n        var total = parseInt(cleanUang(tindakan)) + parseInt(cleanUang(obat));\n        $('#jumlahDibayarBpjs').html(total);\n        if (total > 0) {\n            $('#adaYangDibayar').hide().fadeIn(500);\n        } else {\n            $('#adaYangDibayar').hide();\n        }\n        rupiah();\n    }\n}\n\n\nfunction bukanAsmaAkut(){\n    var bool = false;\n    apakahAsmaAkut(bool);\n    var ket = 'Tindakan BPJS pasien ini tidak ditanggung BPJS, karena bukan asma akut. Tekan pilihan di bawah ini untuk mengubah'\n    updateKeteranganNebuBpjs(ket, bool);\n}\nfunction asmaAkut(){\n    var bool = true;\n    apakahAsmaAkut(bool);\n    var ket = 'Nebulizer ditanggung BPJS karena asma akut. Tekan pilihan di bawah ini untuk mengubah '\n    updateKeteranganNebuBpjs(ket, bool);\n}\n\nfunction optionBilaNebuBpjs(){\n    var tindakans = tindakansArray();\n    var ada_nebu  = false;\n    for (var i = 0; i < tindakans.length; i++) {\n        if (tindakans[i].jenis_tarif_id == '102' || tindakans[i].jenis_tarif_id == '103') {\n            ada_nebu = true;\n            break;\n        }\n    }\n    if (ada_nebu && $('#asuransi_id').val() == '32') {\n        $('#option_bila_nebu_bpjs').hide().fadeIn(500);\n    } else {\n        $('#option_bila_nebu_bpjs').fadeOut(500);\n    }\n}\n\nfunction tindakansArray(){\n    var tindakans = $('#tindakan').val();\n    tindakans     = $.parseJSON(tindakans);\n    return tindakans;\n}\n\nfunction apakahAsmaAkut(ditanggung){\n    if (ditanggung) {\n        var keterangan = '(ditanggung)';\n        var biaya_anak = 0;\n        var biaya_dewasa = 0;\n    } else {\n        var keterangan = ' (TIDAK DITANGGUNG BPJS)'\n        var biaya_anak = 45000;\n        var biaya_dewasa = 40000;\n    }\n    var tindakans = tindakansArray();\n    for (var i = 0; i < tindakans.length; i++) {\n        if (tindakans[i].jenis_tarif_id == '102' || tindakans[i].jenis_tarif_id == '103' ) {\n            var keterangan = tindakans[i].keterangan;\n            var jenis_tarif_id = tindakans[i].jenis_tarif_id\n            tindakans.splice(i, 1);\n            if (jenis_tarif_id == '102') {\n                var tindakan = {\n                    \"jenis_tarif_id\"        :  \"102\",\n                    \"jenis_tarif\"           :  \"Nebulizer Anak \" + keterangan,\n                    \"biaya\"                 :  biaya_anak,\n                    \"keterangan_tindakan\"   :  keterangan\n                }\n            } else {\n                var tindakan = {\n                    \"jenis_tarif_id\"        :  \"103\",\n                    \"jenis_tarif\"           :  \"Nebulizer Dewasa \" + keterangan,\n                    \"biaya\"                 :  biaya_dewasa,\n                    \"keterangan_tindakan\"   :  keterangan\n                }\n            }\n            tindakans[tindakans.length] = tindakan;\n        }\n    }\n\n    var string = JSON.stringify(tindakans);\n    $('#tindakan').val(string);\n}\nfunction updateKeteranganNebuBpjs(ket, bool){\n    $('#keterangan_nebu_bpjs').html(ket);\n    var e = $('#option_bila_nebu_bpjs');\n    if (bool) {\n        if (e.hasClass('alert-danger') || e.hasClass('alert-warning')) {\n            e.removeClass('alert-danger');\n            e.removeClass('alert-warning');\n            e.addClass('alert-success');\n        }\n    } else if (e.hasClass('alert-warning') || e.hasClass('alert-success')){\n            e.removeClass('alert-success');\n            e.removeClass('alert-warning');\n            e.addClass('alert-danger');\n    }\n    $('#option_bila_nebu_bpjs').hide().fadeIn(500);\n\n}\nfunction bahanHabisPakai(){\n\n        var MyArray = dataTindakan;\n        var temp = '';\n\n        for (var i = 0; i < MyArray.length; i++) {\n            temp += MyArray[i].jenis_tarif + ' : ' + MyArray[i].keterangan_tindakan + ', \\n';\n        }\n        console.log(dataTindakan);\n        var jsonData = JSON.stringify(dataTindakan);\n\n        $.post(base + '/poli/ajax/bhp_tindakan',\n            { 'jsonData' : jsonData,  '_token' : $('#token').val() },\n            function (data, textStatus, jqXHR) {\n                console.log(data);\n                var data = $.parseJSON(data);\n                if (data.length > 0) {\n                    var temp = '<div class=\"alert alert-success\">';\n                    temp += '<h3 class=\"text-center\">Daftar Bahan Habis Pakai Tindakan</h3>';\n                    temp += '<table class=\"table table-condensed\"><tbody>';\n                    for (var i = 0, l = data.length; i < l; i++) {\n                        temp += '<tr>';\n                        temp += '<td> R/ <a nowrap=\"\" href=\"#\" onclick=\"informasi(this); return false; \" data-value=\"' + data[i].merek_id + '\" data-toggle=\"modal\" data-target=\".bs-example-modal-lg\">' + data[i].merek + '</a></td>';\n                        temp += '<td class\"text-right\"> No : ' + data[i].jumlah + '</td>';\n                        temp += '</tr>';\n                    }\n                    temp += '</tbody></table>';\n                    temp += '<p class=\"text-center\">Tidak Perlu diinput lagi</p></div>';\n\n                    $('#bhp_tindakan').html(temp);\n                } else {\n                    $('#bhp_tindakan').html('');\n                }\n            }\n        );\n\n        $('#pemeriksaan_penunjang').val(temp).focus();\n}\n\n\nfunction dummySubmit(){\n        var puyer    = $('#puyer').val();\n        var boolAdd  = $('#boolAdd').val();\n        \n        var tindakan  = $('#adatindakan').val();\n        var tindakans = $.parseJSON($('#tindakan').val());\n\n        if (boolAdd == '1' || puyer == '1') {\n            alert('Puyer atau Add Sirup belum selesai. Resep tidak bisa dilanjutkan sebelum diselesaikan');\n            return false\n        }\n\n\t\tif ( $('#asuransi_id').val() == '3' && ( $('#terapi').val() == '[]' || $('#terapi').val() == '' ) ) {\n\t\t\tvar r = confirm('Untuk peserta Inhealth, jika tidak ada terapi yang diberikan , maka bagi hasil untuk dokter tidak bisa dibayarkan untuk pasien ini, Apakah anda yakin ingin melanjutkan? karena anda akan tidak dibayar ntuk pasien ini tanpa terapi');\n\t\t\tif (!r) {\n\t\t\t\talert('Kalau Bingung mau kasih obat apa untuk pasien ini, kasih saja vitamin 4 tablet. bisa pakai neurodex, atau therabex');\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\talert('Anda telah menyetujui untuk tidak dibayar karena melayani pasien ini');\n\t\t\t}\n\t\t}\n        if ($('#anamnesa').val() == '' || $('#ddlDiagnosa').val() == '') {\n            alert('Anamnesa dan Diagnosa tidak boleh dikosongkan!!');\n            $('#tab-status').tab('show');\n            if($('#anamnesa').val() == '' ){\n                validasi('#anamnesa', 'Harus Diisi!');\n            }\n            if($('#ddlDiagnosa').val() == '' ){\n                validasi2('#ddlDiagnosa', 'Harus Diisi!');\n            }\n            return false;\n        } else if(tindakan == '1'){\n            var tindakanTambahan = 0;\n            for (var i = 0; i < tindakans.length; i++) {\n                if (\n                    tindakans[i]['jenis_tarif_id'] != '1' &&\n                    tindakans[i]['jenis_tarif_id'] != '9' &&\n                    tindakans[i]['jenis_tarif_id'] != '140'\n                ){\n                    tindakanTambahan++;\n                }\n            }\n            if (tindakanTambahan == 0) {\n                var r = confirm('Apa Anda lupa isi kolom tindakan? Jika anda yakin bahwa tidak ada tindakan tambahan, tekan tombol OK');\n                if (r) {\n                    $('#submitFormPeriksa').click();\n                } else {\n                    return false;\n                }\n            } else {\n                $('#submitFormPeriksa').click();\n            }\n        } else {\n            $('#submitFormPeriksa').click();\n        }\n\n\n\t \n}\n\nfunction refresh(){\n\tvar parameter = {'antrianperiksa_id' : $('#antrianperiksa_id').val()};\n\t$.post(base + '/poli/ajax/ambil_gambar', parameter, function (data) {\n\t\tconsole.log('data = ' + data);\n\t\tdata = JSON.parse(data);\n\t\tvar temp = '';\n\t\tfor (var i = 0, len = data.length; i < len; i++) {\n\t\t\tif (isEven(i)) {\n\t\t\t\ttemp += '<div class=\"row\">';\n\t\t\t}\n\t\t\ttemp += '<div class=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">'\n\t\t\ttemp += '<img src=\"' + base + '/img/estetika/' + data[i].image + '\" class=\"img-thumbnail\" alt=\"\">'\n\t\t\ttemp += '</div>'\n\t\t\tif (isOdd(i)) {\n\t\t\t\ttemp += '</div><br />';\n\t\t\t}\n\t\t}\n\t\tif (isEven(i) && temp != '') {\n\t\t\ttemp += '</div>';\n\t\t}\n\t\t$('#gambar').html(temp);\n\t});\n}\nfunction submitAlergi(control){\n\tvar pasien_id         = $('#pasien_id').val();\n\tvar antrianperiksa_id = $('#antrianperiksa_id').val();\n\tvar selectAlergi      = $('#generik_list_alergi').val();\n\tvar param = {\n\t\t'pasien_id' : pasien_id,\n\t\t'generik_id' : selectAlergi,\n\t}\n\t$.post( base + '/poli/' + antrianperiksa_id + '/alergies',\n\t\tparam,\n\t\tfunction (data, textStatus, jqXHR) {\n\t\t\t$('#myModal').modal('hide');\n\t\t\t$('#generik_list_alergi').val('');\n\t\t\t$('#generik_list_alergi').selectpicker('refresh');\n\t\t\tif( data['valid'] == '1' ){\n\t\t\t\tvar temp = '';\n\t\t\t\tfor (var i = data['alergi'].length - 1; i >= 0; i--) {\n\t\t\t\t\ttemp += '<tr>';\n\t\t\t\t\ttemp += '<td class=\"nama_obat\">';\n\t\t\t\t\ttemp += data['alergi'][i].generik\n\t\t\t\t\ttemp += '</td>';\n\t\t\t\t\ttemp += '<td class=\"nama_obat\">';\n\t\t\t\t\ttemp += '<button class=\"btn btn-danger btn-sm\" onclick=\"deleteAlergi(' + data['alergi'][i].id+ ', this);return false;\" type=\"submit\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span> Delete</button>';\n\t\t\t\t\ttemp += '</td>';\n\t\t\t\t\ttemp += '</tr>';\n\t\t\t\t}\n\t\t\t\t$('#alergy_body_table').html(temp)\n\t\t\t} else {\n\t\t\t\talert('obat yang sama sudah ada di dalam database alergi untuk pasien ini');\n\t\t\t}\n\t\t}\n\t);\n}\nfunction deleteAlergi(id, control){\n\tvar obat = $(control).closest('tr').find('.nama_obat').html();\n\tvar c = confirm('Anda yakin mau menghapus ' + obat + ' dari daftar alergi pasien ini?');\n\tif (c) {\n\t\tvar pasien_id = $('#pasien_id').val();\n\t\tvar param = {\n\t\t\t'alergi_id' : id,\n\t\t\t'pasien_id' : pasien_id\n\t\t};\n\t\t$.post(base + '/poli/ajax/alergies/delete',\n\t\t\tparam,\n\t\t\tfunction (data, textStatus, jqXHR) {\n\t\t\t\t$('#myModal').modal('hide');\n\t\t\t\tvar temp = '';\n\t\t\t\tif ( data.length > 0 ) {\n\t\t\t\t\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\t\t\t\t\ttemp += '<tr>';\n\t\t\t\t\t\ttemp += '<td class=\"nama_obat\">';\n\t\t\t\t\t\ttemp += data[i].generik\n\t\t\t\t\t\ttemp += '</td>';\n\t\t\t\t\t\ttemp += '<td>';\n\t\t\t\t\t\ttemp += '<button class=\"btn btn-danger btn-sm\" onclick=\"deleteAlergi(' + data[i].id+ ', this);return false;\" type=\"submit\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span> Delete</button>';\n\t\t\t\t\t\ttemp += '</td>';\n\t\t\t\t\t\ttemp += '</tr>';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttemp += '<tr class=\"text-center\">';\n\t\t\t\t\ttemp += '<td colspan=\"2\">';\n\t\t\t\t\ttemp += 'Tidak ada data untuk ditampilkan :p';\n\t\t\t\t\ttemp += '</td>';\n\t\t\t\t\ttemp += '</tr>';\n\t\t\t\t}\n\t\t\t\t$('#alergy_body_table').html(temp)\n\t\t\t}\n\t\t);\n\t\treturn false;\n\t} \n}\nfunction generik_list_change(){\n\tvar nilai = $('#generik_list_alergi').val();\n\tconsole.log('disabled = ' + $('#myModal').find('.submit_button').hasClass('disabled'));\n\tconsole.log('not null = ' + !!nilai);\n\tif (!!nilai && $('#myModal').find('.submit_button').hasClass('disabled')) {\n\t\t$('#myModal').find('.submit_button').removeClass('disabled')\n\t} else if (!nilai && !$('#myModal').find('.submit_button').hasClass('disabled')){\n\t\t$('#myModal').find('.submit_button').addClass('disabled')\n\t}\n}\n","\nfunction showFotoZoom(){\n    $('#fotozoom').modal('show');\n}","    $('.hide-panel').closest('.panel').find('.panel-heading').css('border', '3px border red');\n    $('.hide-panel').closest('.panel').find('.panel-heading').css('cursor', 'pointer');\n    $('.hide-panel').closest('.panel').find('.panel-heading').click(function(e) {\n        if ( $('#resepluar').val() ==  ''){\n            $(this).closest('.panel').find('.hide-panel').slideToggle(function(){\n                $(this).closest('.panel').find('.resepluar').focus(); \n            });\n            $('.unhide-panel:not([src=\"' + base + '/notfound.jpg\"])').toggle();\n        }\n    });;\n","   function resepJson(result){\n        if(result != \"\"){\n                var MyArray = JSON.parse(result);\n            } else {\n                var MyArray = \"\";\n            }\n            var temp = '<table width=\"100%\">';\n          if (MyArray.length > 0){\n            for (var i = 0; i < MyArray.length - 1; i++) {\n                //Untuk menghitung urutan add sirup yang terakhir\n                \n                if (MyArray[i].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '0') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\">R/</td>';\n                    temp += '<td style=\"text-align:left; width:150px;\" nowrap>' + MyArray[i].merek_obat + ' <strong>[  ' + MyArray[i].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[i].jumlah + '</td>';\n                    temp += '</tr>';\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#puyer').val('1');\n                    } else {\n                        $('#puyer').val('0');\n                    }\n\n\n                } else if (MyArray[i].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '1') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"text-align:left; width:150px;\" nowrap>' + MyArray[i].merek_obat + ' <strong>[  ' + MyArray[i].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[i].jumlah + '</td>';\n                    temp += '</tr>';\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#puyer').val('1');\n                    } else {\n                        $('#puyer').val('0');\n                    }\n\n                } else if (MyArray[i].merek_id == -1 || MyArray[i].merek_id == -3) {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;border-bottom:1px solid #000;\" nowrap class=\"merek\">Buat Menjadi ' + MyArray[i].jumlah + ' puyer ' + MyArray[i].signa + '</td>';\n                    temp += '<td style=\"border-bottom:1px solid #000;\"  nowrap>' + MyArray[i].aturan_minum + '</td>';\n                    temp += '</tr>';\n\n                    $('#puyer').val('0');\n\n                } else if (MyArray[i].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '0') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\">R/</td>';\n                    temp += '<td style=\"width:150px;text-align:left;\" nowrap>' + MyArray[i].merek_obat + ' <strong>[  ' + MyArray[i].rak_id + '  ]</strong></td>';\n                    temp += '<td> fls No : ' + MyArray[i].jumlah + '</td>';\n                    temp += '</tr>';\n                    temp += '<tr>';\n                    temp += '<td style=\"text-align:center;\" colspan=\"3\">ADD</td>';\n                    temp += '</tr>';\n\n                    $('#boolAdd').val('1');\n\n\n                } else if (MyArray[i].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '1') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;text-align:left;\" nowrap>' + MyArray[i].merek_obat + ' <strong>[  ' + MyArray[i].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[i].jumlah + '</td>';\n                    temp += '</tr>';\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#boolAdd').val('1');\n                    } else {\n                        $('#boolAdd').val('0');\n                    }\n\n                } else if (MyArray[i].merek_id == -2) {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;border-bottom:1px solid #000;\">S Masukkan ke dalam sirup ' + MyArray[i].signa + ' </td>';\n                    temp += '<td style=\"border-bottom:1px solid #000;\">Dihabiskan</td>';\n                    temp += '</tr>';\n\n                    $('#puyer').val('0');\n\n                } else {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\">R/</td>';\n                    temp += '<td style=\"width:150px;text-align:left;\" nowrap>' + MyArray[i].merek_obat + ' <strong>[  ' + MyArray[i].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[i].jumlah + '</td>';\n                    temp += '</tr><tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;border-bottom:1px solid #000;\"> S ' + MyArray[i].signa + '</td>';\n                    temp += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[i].aturan_minum + '</td>';\n                    temp += '</tr>';\n                }\n            }\n                var a = MyArray.length - 1;\n                if (MyArray[a].merek_id == -1 || MyArray[a].merek_id == -3) {\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;border-bottom:1px solid #000;\" nowrap class=\"merek\">Buat Menjadi ' + MyArray[a].jumlah + ' puyer ' + MyArray[a].signa + '</td>';\n                    temp += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[a].aturan_minum + '</td>';\n                    $('#puyer').val('0');\n                } else if (MyArray[a].merek_id == -2) {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;border-bottom:1px solid #000;\" >S Masukkan ke dalam sirup ' + MyArray[a].signa + '</td>';\n                    temp += '<td style=\"border-bottom:1px solid #000;\">Dihabiskan</td>';\n\n                    $('#boolAdd').val('0');\n                } else if (MyArray[a].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '0') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\">R/</td>';\n                    temp += '<td style=\"width:150px;\" nowrap>' + MyArray[a].merek_obat + ' <strong>[  ' + MyArray[a].rak_id + '  ]</strong></td>';\n                    temp += '<td> fls No : ' + MyArray[a].jumlah + '</td>';\n                    temp += '</tr>';\n                    temp += '<tr>';\n                    temp += '<td  style=\"text-align:center;\" colspan=\"3\">ADD</td>';\n\n                    $('#boolAdd').val('1');\n\n                    id_formula_sirup_add = MyArray[a].formula_id;\n                    console.log('id_formula_sirup_add = ' + id_formula_sirup_add);\n                } else if (MyArray[a].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '1') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;\" nowrap>' + MyArray[a].merek_obat + ' <strong>[  ' + MyArray[a].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    // Bila isi dari add sirup ditambahkan penyusunnya saja, maka Add tidak ditambah\n                    if(\n                        !(\n                            (MyArray[a].formula_id == '150802040' && id_formula_sirup_add == '150803008') || // Cefadroksil capsul dan Cefadroksil syrup\n                            (MyArray[a].formula_id == '150806007' && id_formula_sirup_add == '150803003') || // Brodamox tablet dan Decamox syrup\n                            (MyArray[a].formula_id == '150803047' && id_formula_sirup_add == '150803006') || // Dexycol capsul dan Dionicol syr\n                            (MyArray[a].formula_id == '150806005' && id_formula_sirup_add == '150921001')    // Cefixime capsul dan Cefixime syr\n                        )\n                    ){\n                        addSatu = true;\n                    }\n\n                } else if (MyArray[a].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '0') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\">R/</td>';\n                    temp += '<td style=\"width:150px;text-align:left;\" nowrap>' + MyArray[a].merek_obat + ' <strong>[  ' + MyArray[a].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                } else if (MyArray[a].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '1') {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;text-align:left;\" nowrap>' + MyArray[a].merek_obat + ' <strong>[  ' + MyArray[a].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                } else {\n\n                    temp += '<tr>';\n                    temp += '<td style=\"width:15px\">R/</td>';\n                    temp += '<td style=\"width:150px;text-align:left;\" nowrap>' + MyArray[a].merek_obat + ' <strong>[  ' + MyArray[a].rak_id + '  ]</strong></td>';\n                    temp += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp += '</tr><tr>';\n                    temp += '<td style=\"width:15px\"></td>';\n                    temp += '<td style=\"width:150px;border-bottom:1px solid #000;\"> S ' + MyArray[a].signa + '</td>';\n                    temp += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[a].aturan_minum + '</td>';\n                }\n             }\n            temp += '</tr></table>';\n            //=============================================================\n            //=============================================================\n            //=============================================================\n           $('#puyer').val('0');\n            $('#boolAdd').val('0');\n            var temp2 = '<table class=\"RESEP table table-condensed\"><tbody>';\n\n            var ID_TERAPIGroup = [];\n\n            //lert(MyArray[0].signa);\n          if (MyArray.length > 0){\n            for (var i = 0; i < MyArray.length - 1; i++) {\n                if (MyArray[i].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '0') {\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\">R/</td>';\n                    temp2 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp2 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp2 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr>';\n\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#puyer').val('1');\n                    } else {\n                        $('#puyer').val('0');\n                    }\n                } else if (MyArray[i].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '1') {\n\n\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp2 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp2 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr>';\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#puyer').val('1');\n                    } else {\n                        $('#puyer').val('0');\n                    }\n                } else if (MyArray[i].merek_id == -1 || MyArray[i].merek_id == -3) {\n\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\" nowrap class=\"merek\" >Buat Menjadi ' + MyArray[i].jumlah + ' puyer ' + MyArray[i].signa + '</td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[i].aturan_minum + '</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp2 += '</tr>';\n\n                    $('#puyer').val('0');\n                } else if (MyArray[i].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '0') {\n\n\n                    ID_TERAPIGroup = []\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\">R/</td>';\n                    temp2 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>'  ;\n                    temp2 += '<td> fls No : ' + MyArray[i].jumlah + '</td>';\n                    temp2 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr>';\n                    temp2 += '<tr>';\n                    temp2 += '<td  style=\"text-align:center;\" colspan=\"3\">ADD</td>';\n                    temp2 += '<td class=\"displayNone\"></td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr>';\n\n\n                    id_formula_sirup_add = MyArray[i].formula_id;\n                    addSatu = false;\n                    console.log('id_formula_sirup_add = ' + id_formula_sirup_add);\n\n                    $('#boolAdd').val('1');\n                } else if (MyArray[i].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '1') {\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"text-align:left;\"><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp2 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp2 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr>';\n\n                    // Bila isi dari add sirup ditambahkan penyusunnya saja, maka Add tidak ditambah\n                    if(\n                        !(\n                            (MyArray[a].formula_id == '150802040' && id_formula_sirup_add == '150803008') || // Cefadroksil capsul dan Cefadroksil syrup\n                            (MyArray[a].formula_id == '150806007' && id_formula_sirup_add == '150803003') || // Brodamox tablet dan Decamox syrup\n                            (MyArray[a].formula_id == '150803047' && id_formula_sirup_add == '150803006') || // Dexycol capsul dan Dionicol syr\n                            (MyArray[a].formula_id == '150806005' && id_formula_sirup_add == '150921001')    // Cefixime capsul dan Cefixime syr\n                        )\n                    ){\n                        addSatu = true;\n                    }\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#boolAdd').val('1');\n                    } else {\n                        $('#boolAdd').val('0');\n                    }\n                } else if (MyArray[i].merek_id == -2) {\n\n\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\" >S Masukkan ke dalam sirup ' + MyArray[i].signa + '</td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\">Dihabiskan</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\"></td>';\n                    temp2 += '</tr>';\n\n                    $('#puyer').val('0');\n                } else {\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\">R/</td>';\n                    temp2 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp2 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp2 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr><tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\"> S ' + MyArray[i].signa + '</td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[i].aturan_minum + '</td>';\n                    temp2 += '<td class=\"displayNone\"></td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '</tr>';\n                }\n            }\n                var a = MyArray.length - 1;\n\n                if (MyArray[a].merek_id == -1 || MyArray[a].merek_id == -3) {\n                    console.log(MyArray[a].merek_id + ' = 1');\n\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\" nowrap class=\"merek\" >Buat Menjadi ' + MyArray[a].jumlah + ' puyer ' + MyArray[a].signa + '</td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[a].aturan_minum + '</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\"></td>';\n                    temp2 += '<td></td>';\n\n                    $('#puyer').val('0');\n                } else if (MyArray[a].merek_id == -2) {\n                    console.log(MyArray[a].merek_id + ' = 2');\n\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\">S Masukkan ke dalam sirup ' + MyArray[a].signa + '</td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\">Dihabiskan</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\"></td>';\n\n                    $('#boolAdd').val('0');\n                } else if (MyArray[a].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '0') {\n                    console.log(MyArray[a].merek_id + ' = 3');\n\n\n                    ID_TERAPIGroup = [];\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\">R/</td>';\n                    temp2 += '<td><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp2 += '<td> fls No : ' + MyArray[a].jumlah + '</td>';\n                    temp2 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr>';\n                    temp2 += '<tr>';\n                    temp2 += '<td  style=\"text-align:center;\" colspan=\"3\">ADD</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\"></td>';\n                    $('#boolAdd').val('1');\n                } else if (MyArray[a].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '1') {\n\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    console.log(MyArray[a].merek_id + ' = 4');\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp2 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n\n\n                    // Bila isi dari add sirup ditambahkan penyusunnya saja, maka Add tidak ditambah\n                    if(\n                        !(\n                            (MyArray[a].formula_id == '150802040' && id_formula_sirup_add == '150803008') || // Cefadroksil capsul dan Cefadroksil syrup\n                            (MyArray[a].formula_id == '150806007' && id_formula_sirup_add == '150803003') || // Brodamox tablet dan Decamox syrup\n                            (MyArray[a].formula_id == '150803047' && id_formula_sirup_add == '150803006') || // Dexycol capsul dan Dionicol syr\n                            (MyArray[a].formula_id == '150806005' && id_formula_sirup_add == '150921001')    // Cefixime capsul dan Cefixime syr\n                        )\n                    ){\n                        addSatu = true;\n                    }\n\n                } else if (MyArray[a].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '0') {\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n                    console.log(MyArray[a].merek_id + ' = 5');\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\">R/</td>';\n                    temp2 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp2 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                    $('#puyer').val('1');\n                } else if (MyArray[a].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '1') {\n\n                    console.log(MyArray[a].merek_id + ' = 6');\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp2 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                } else {\n\n                    console.log(MyArray[a].merek_id + ' = 7');\n\n                    ID_TERAPIGroup = [];\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp2 += '<tr>';\n                    temp2 += '<td style=\"width:15px\">R/</td>';\n                    temp2 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp2 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp2 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                    temp2 += '<td></td>';\n                    temp2 += '</tr><tr>';\n                    temp2 += '<td style=\"width:15px\"></td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\"> S ' + MyArray[a].signa + '</td>';\n                    temp2 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[a].aturan_minum + '</td>';\n                    temp2 += \"<td><button class='btn btn-danger btn-sm' onclick='rowdel(this)' type='button' value='\" + JSON.stringify(ID_TERAPIGroup) + \"'>hapus</button></td>\";\n                    temp2 += '<td class=\"displayNone\"></td>';\n                }\n                temp2 += '</tr></tbody></table>';\n             } else {\n                temp2 = \"\";\n                temp = \"\";\n             }\n                    //=============================================================\n            //=============================================================\n            //=============================================================\n           $('#puyer').val('0');\n            $('#boolAdd').val('0');\n            var temp3 = '<table class=\"RESEP table table-condensed\"><tbody>';\n\n            var ID_TERAPIGroup = [];\n\n            //lert(MyArray[0].signa);\n          if (MyArray.length > 0){\n            for (var i = 0; i < MyArray.length - 1; i++) {\n                if (MyArray[i].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '0') {\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\">R/</td>';\n                    temp3 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp3 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp3 += '</tr>';\n\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#puyer').val('1');\n                    } else {\n                        $('#puyer').val('0');\n                    }\n                } else if (MyArray[i].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '1') {\n\n\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp3 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp3 += '</tr>';\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#puyer').val('1');\n                    } else {\n                        $('#puyer').val('0');\n                    }\n                } else if (MyArray[i].merek_id == -1 || MyArray[i].merek_id == -3) {\n\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\" nowrap class=\"merek\" >Buat Menjadi ' + MyArray[i].jumlah + ' puyer ' + MyArray[i].signa + '</td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[i].aturan_minum + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp3 += '</tr>';\n\n                    $('#puyer').val('0');\n                } else if (MyArray[i].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '0') {\n\n\n                    ID_TERAPIGroup = []\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\">R/</td>';\n                    temp3 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>'  ;\n                    temp3 += '<td> fls No : ' + MyArray[i].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp3 += '</tr>';\n                    temp3 += '<tr>';\n                    temp3 += '<td  style=\"text-align:center;\" colspan=\"3\">ADD</td>';\n                    temp3 += '<td class=\"displayNone\"></td>';\n                    temp3 += '</tr>';\n\n\n                    id_formula_sirup_add = MyArray[i].formula_id;\n                    addSatu = false;\n                    console.log('id_formula_sirup_add = ' + id_formula_sirup_add);\n\n                    $('#boolAdd').val('1');\n                } else if (MyArray[i].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '1') {\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"text-align:left;\"><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp3 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp3 += '</tr>';\n\n                    // Bila isi dari add sirup ditambahkan penyusunnya saja, maka Add tidak ditambah\n                    if(\n                        !(\n                            (MyArray[a].formula_id == '150802040' && id_formula_sirup_add == '150803008') || // Cefadroksil capsul dan Cefadroksil syrup\n                            (MyArray[a].formula_id == '150806007' && id_formula_sirup_add == '150803003') || // Brodamox tablet dan Decamox syrup\n                            (MyArray[a].formula_id == '150803047' && id_formula_sirup_add == '150803006') || // Dexycol capsul dan Dionicol syr\n                            (MyArray[a].formula_id == '150806005' && id_formula_sirup_add == '150921001')    // Cefixime capsul dan Cefixime syr\n                        )\n                    ){\n                        addSatu = true;\n                    }\n\n                    if (MyArray[i].signa == MyArray[i + 1].signa) {\n                        $('#boolAdd').val('1');\n                    } else {\n                        $('#boolAdd').val('0');\n                    }\n                } else if (MyArray[i].merek_id == -2) {\n\n\n\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\" >S Masukkan ke dalam sirup ' + MyArray[i].signa + '</td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\">Dihabiskan</td>';\n                    temp3 += '<td class=\"displayNone\"></td>';\n                    temp3 += '</tr>';\n\n                    $('#puyer').val('0');\n                } else {\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : i };\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\">R/</td>';\n                    temp3 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[i].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[i].merek_obat + '</a></t[d>  ';\n                    temp3 += '<td>   No : ' + MyArray[i].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[i].merek_id + '</td>';\n                    temp3 += '</tr><tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\"> S ' + MyArray[i].signa + '</td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[i].aturan_minum + '</td>';\n                    temp3 += '<td class=\"displayNone\"></td>';\n                    temp3 += '</tr>';\n                }\n            }\n                var a = MyArray.length - 1;\n\n                if (MyArray[a].merek_id == -1 || MyArray[a].merek_id == -3) {\n                    console.log(MyArray[a].merek_id + ' = 1');\n\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\" nowrap class=\"merek\" >Buat Menjadi ' + MyArray[a].jumlah + ' puyer ' + MyArray[a].signa + '</td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[a].aturan_minum + '</td>';\n                    temp3 += '<td class=\"displayNone\"></td>';\n\n                    $('#puyer').val('0');\n                } else if (MyArray[a].merek_id == -2) {\n                    console.log(MyArray[a].merek_id + ' = 2');\n\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\">S Masukkan ke dalam sirup ' + MyArray[a].signa + '</td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\">Dihabiskan</td>';\n                    temp3 += '<td class=\"displayNone\"></td>';\n\n                    $('#boolAdd').val('0');\n                } else if (MyArray[a].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '0') {\n                    console.log(MyArray[a].merek_id + ' = 3');\n\n\n                    ID_TERAPIGroup = [];\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\">R/</td>';\n                    temp3 += '<td><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp3 += '<td> fls No : ' + MyArray[a].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                    temp3 += '</tr>';\n                    temp3 += '<tr>';\n                    temp3 += '<td  style=\"text-align:center;\" colspan=\"3\">ADD</td>';\n                    temp3 += '<td class=\"displayNone\"></td>';\n                    $('#boolAdd').val('1');\n                } else if (MyArray[a].signa.substring(0, 3) == \"Add\" && $('#boolAdd').val() == '1') {\n\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    console.log(MyArray[a].merek_id + ' = 4');\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp3 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n\n\n                    // Bila isi dari add sirup ditambahkan penyusunnya saja, maka Add tidak ditambah\n                    if(\n                        !(\n                            (MyArray[a].formula_id == '150802040' && id_formula_sirup_add == '150803008') || // Cefadroksil capsul dan Cefadroksil syrup\n                            (MyArray[a].formula_id == '150806007' && id_formula_sirup_add == '150803003') || // Brodamox tablet dan Decamox syrup\n                            (MyArray[a].formula_id == '150803047' && id_formula_sirup_add == '150803006') || // Dexycol capsul dan Dionicol syr\n                            (MyArray[a].formula_id == '150806005' && id_formula_sirup_add == '150921001')    // Cefixime capsul dan Cefixime syr\n                        )\n                    ){\n                        addSatu = true;\n                    }\n\n                } else if (MyArray[a].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '0') {\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n                    console.log(MyArray[a].merek_id + ' = 5');\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\">R/</td>';\n                    temp3 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp3 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                    $('#puyer').val('1');\n                } else if (MyArray[a].signa.substring(0, 5) == \"Puyer\" && $('#puyer').val() == '1') {\n\n                    console.log(MyArray[a].merek_id + ' = 6');\n\n                    ID_TERAPIGroup = [];\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp3 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                } else {\n\n                    console.log(MyArray[a].merek_id + ' = 7');\n\n                    ID_TERAPIGroup = [];\n\n                    ID_TERAPIGroup[ID_TERAPIGroup.length] = { \"id\" : a };\n\n                    temp3 += '<tr>';\n                    temp3 += '<td style=\"width:15px\">R/</td>';\n                    temp3 += '<td style=\"text-align:left;\" ><a data-target=\".bs-example-modal-lg\" data-toggle=\"modal\" data-value=\"' + MyArray[a].merek_id + '\" onclick=\"informasi(this); return false; \" href=\"#\" nowrap>' + MyArray[a].merek_obat + '</a></td>';\n                    temp3 += '<td> No : ' + MyArray[a].jumlah + '</td>';\n                    temp3 += '<td class=\"displayNone\">' + MyArray[a].merek_id + '</td>';\n                    temp3 += '</tr><tr>';\n                    temp3 += '<td style=\"width:15px\"></td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\"> S ' + MyArray[a].signa + '</td>';\n                    temp3 += '<td style=\"border-bottom:1px solid #000;\" nowrap>' + MyArray[a].aturan_minum + '</td>';\n                    temp3 += '<td class=\"displayNone\"></td>';\n                }\n                temp3 += '</tr></tbody></table>';\n             } else {\n                temp2 = \"\";\n                temp3 = \"\";\n                temp = \"\";\n             }\n             return [temp, temp2, temp3];\n    }","function informasi(control){\n    var ID = $(control).data('value');\n\n\n    $.post( base + '/poli/ajax/ajxobat', { 'merek_id' : ID}, function(data) {\n        /*optional stuff to do after success */\n        data = $.parseJSON(data);\n        var MyArray = data.komposisis;\n        var temp = '';\n        if (MyArray.length > 0) {\n            for (var i = 0; i < MyArray.length; i++) {\n                temp += '<tr>';\n                temp += '<td>' + MyArray[i].komposisi + '</td>';\n                temp += '<td>' + MyArray[i].pregnancy_safety_index + '</td>';\n                temp += '</tr>';\n            }\n        } else {\n                temp += '<tr>';\n                temp += '<td colspan=\"2\" class=\"text-center\">Komposisi Tidak Terdaftar</td>';\n                temp += '</tr>';\n        }\n\n        $('#nama_obat').text($(control).text());\n\n        $('#kontraindikasi').html(data.kontraindikasi);\n        $('#indikasi').html(data.indikasi);\n        $('#efek_samping').html(data.efek_samping);\n        $('#tabel_komposisi').html(temp);\n\n    });\n}\n","var riwayat = [];\n\n$('#input_riwayat').keydown(function(e) {\n    var key = e.keyCode || e.which;\n    if (key == 9) {\n        $('#input_riwayat').click();\n        return false;\n    }\n});\n\nfunction inputRiwayatKehamilan(control){\n        var riwayat = riwayat_obs();\n            if ($('#inputSpontanSC').val() != '') {\n\n                var jenis_kelamin = $('#inputJenisKelamin').val();\n                var berat_lahir = $('#inputBeratLahir').val();\n                var tahun_lahir = $('#inputTahunLahir').val();\n                var lahir_di = $('#inputLahirDi').val();\n                var spontan_sc = $('#inputSpontanSC').val();\n\n                riwayat[riwayat.length] = {\n                    'jenis_kelamin' : jenis_kelamin,\n                    'berat_lahir'   : berat_lahir + ' gr',\n                    'tahun_lahir'   : tahun_lahir,\n                    'lahir_di'      : lahir_di,\n                    'spontan_sc'    : spontan_sc\n                } \n                string_obs(riwayat);\n               view();\n            } else {\n                validasi('#inputSpontanSC', 'Hapus Diisi!!');\n            }\n        }\n\n        function rowDel(control){\n\n            riwayat = riwayat_obs();\n            var i = $(control).closest('tr').find('td:first-child');\n            i = parseInt(i) - 1 ;\n\n            riwayat.splice(i, 1);\n            string_obs(riwayat);\n            view();\n        }\n\n        function viewNoFocus(){\n\n            var temp = '';\n            riwayat = riwayat_obs();\n            for (var i = 0; i < riwayat.length; i++) {\n                n = parseInt(i) + 1;\n\n                var maks = parseInt(riwayat.length) - 1;\n\n                temp += '<tr>';\n                temp += '<td>' + n + '</td>';\n                temp += '<td>' + riwayat[i].jenis_kelamin + '</td>';\n                temp += '<td>' + riwayat[i].berat_lahir + '</td>';\n                temp += '<td>' + riwayat[i].tahun_lahir + '</td>';\n                temp += '<td>' + riwayat[i].lahir_di + '</td>';\n                temp += '<td>' + riwayat[i].spontan_sc + '</td>';\n                if(i == maks){\n                    temp += '<td>' + '<button type=\"button\" class=\"btn btn-danger btn-xs\" onclick=\"rowDel(this);return false;\">hapus</button>' + '</td>';\n                } else {\n                    temp += '<td></td>';\n                }\n                temp += '</tr>';\n            }\n\n            var keyini = parseInt(riwayat.length) + 1\n\n            temp            +='<tr>';\n            temp            +='<td>' + keyini + '</td>';\n            temp            +='<td>ini<td>';\n            temp            +='<td></td>';\n            temp            +='<td></td>';\n            temp            +='<td></td>';\n            temp            +='<td></td>';\n            temp            +='<td></td>';\n            temp            +='</tr>';\n\n            $('.inp').val('');\n            $('#table_riwayat_kehamilan').html(temp);\n\n            var string = JSON.stringify(riwayat);\n            $('#riwayat_kehamilan').val(string);\n\n        }\n         function view(){\n\n            viewNoFocus();\n            $('#inputJenisKelamin').focus();    \n\n\n        }\n\n        function riwayat_obs(){\n            riwayat = $('#riwayat_kehamilan').val();\n            if (riwayat == '') {\n                riwayat = '[]';\n            }\n            return JSON.parse(riwayat);\n        }\n\n        function string_obs(riwayat){\n            riwayat = JSON.stringify(riwayat);\n            $('#riwayat_kehamilan').val(riwayat);\n        }\n\n\n","function uk(umur_kehamilan, hari) {\n\n\t$(\"#\" + hari).datepicker({\n        todayBtn: \"linked\",\n        keyboardNavigation: false,\n        forceParse: false,\n        calendarWeeks: true,\n        autoclose: true,\n        format: 'dd-mm-yyyy'\n\t}).on(\"changeDate\", function(e) {\n\t\tuk_exec(umur_kehamilan, hari);\n\t});\n\n\t$('#' + umur_kehamilan).attr('readonly', 'readonly');\n}\n\nfunction uk_exec(umur_kehamilan, hari) {\n\tif ($('#' + hari).val() != '') {\n\t    var HPHT =  $('#' + hari).val();\n\n\t    $.post(base +\"/anc/uk\" , {'hpht': HPHT }, function(data) {\n\t        data = $.trim(data);\n\t        $('#' + umur_kehamilan).val(data); \n\t    });\n\n\t} else {\n\t    $('#' + umur_kehamilan).val(''); \n\t}\n}"]}